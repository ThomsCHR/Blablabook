var Ki=Object.defineProperty;var Pn=e=>{throw TypeError(e)};var Qi=(e,t,r)=>t in e?Ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jt=(e,t,r)=>Qi(e,typeof t!="symbol"?t+"":t,r),Vr=(e,t,r)=>t.has(e)||Pn("Cannot "+r);var W=(e,t,r)=>(Vr(e,t,"read from private field"),r?r.call(e):t.get(e)),xe=(e,t,r)=>t.has(e)?Pn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qe=(e,t,r,n)=>(Vr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ht=(e,t,r)=>(Vr(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const ti=!1;var Ft=Array.isArray,Zi=Array.prototype.indexOf,on=Array.from,gr=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,ri=Object.getOwnPropertyDescriptors,es=Object.prototype,ts=Array.prototype,ln=Object.getPrototypeOf,Tn=Object.isExtensible;function Nt(e){return typeof e=="function"}const Te=()=>{};function rs(e){return e()}function Zt(e){for(var t=0;t<e.length;t++)e[t]()}function ns(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}const $e=2,un=4,Ar=8,St=16,rt=32,zt=64,ni=128,Ne=256,br=512,ve=1024,Le=2048,nt=4096,De=8192,At=16384,Cr=32768,ur=65536,Rn=1<<17,is=1<<18,cr=1<<19,ii=1<<20,Kr=1<<21,cn=1<<22,yt=1<<23,Ze=Symbol("$state"),si=Symbol("legacy props"),ss=Symbol(""),fn=new class extends Error{constructor(){super(...arguments);Jt(this,"name","StaleReactionError");Jt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function as(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Pr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function os(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ls(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function us(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function cs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function vs(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function ds(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ps(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ms(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _s(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Tr=1,Rr=2,ai=4,hs=8,gs=16,bs=1,ys=2,ws=4,ks=8,Es=16,xs=4,Ss=1,zs=2,ce=Symbol(),As="http://www.w3.org/1999/xhtml";function Cs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Ps=!1;function oi(e){return e===this.v}function vn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ts(e,t){return e!==t}function li(e){return!vn(e,this.v)}let Ut=!1,Rs=!1;function $s(){Ut=!0}let Z=null;function yr(e){Z=e}function ke(e,t=!1,r){Z={p:Z,c:null,e:null,s:e,x:null,l:Ut&&!t?{s:null,u:null,$:[]}:null}}function Ee(e){var t=Z,r=t.e;if(r!==null){t.e=null;for(var n of r)Ei(n)}return Z=t.p,{}}function Vt(){return!Ut||Z!==null&&Z.l===null}const qs=new WeakMap;function js(e){var t=Y;if(t===null)return H.f|=yt,e;if((t.f&Cr)===0){if((t.f&ni)===0)throw!t.parent&&e instanceof Error&&ui(e),e;t.b.error(e)}else dn(e,t)}function dn(e,t){for(;t!==null;){if((t.f&ni)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&ui(e),e}function ui(e){const t=qs.get(e);t&&(gr(e,"message",{value:t.message}),gr(e,"stack",{value:t.stack}))}let er=[],Qr=[];function ci(){var e=er;er=[],Zt(e)}function Ns(){var e=Qr;Qr=[],Zt(e)}function pn(e){er.length===0&&queueMicrotask(ci),er.push(e)}function Ls(){er.length>0&&ci(),Qr.length>0&&Ns()}function Is(){for(var e=Y.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&as(),e}function $r(e){var t=$e|Le,r=H!==null&&(H.f&$e)!==0?H:null;return Y===null||r!==null&&(r.f&Ne)!==0?t|=Ne:Y.f|=cr,{ctx:Z,deps:null,effects:null,equals:oi,f:t,fn:e,reactions:null,rv:0,v:ce,wv:0,parent:r??Y,ac:null}}function Ds(e,t){let r=Y;r===null&&os();var n=r.b,i=void 0,s=rr(ce),o=null,l=!H;return Ks(()=>{try{var u=e();o&&Promise.resolve(u).catch(()=>{})}catch(g){u=Promise.reject(g)}var c=()=>u;i=(o==null?void 0:o.then(c,c))??Promise.resolve(u),o=i;var f=K,d=n.pending;l&&(n.update_pending_count(1),d||f.increment());const b=(g,v=void 0)=>{o=null,d||f.activate(),v?v!==fn&&(s.f|=yt,Xt(s,v)):((s.f&yt)!==0&&(s.f^=yt),Xt(s,g)),l&&(n.update_pending_count(-1),d||f.decrement()),di()};if(i.then(b,g=>b(null,g||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function c(f){function d(){f===i?u(s):c(i)}f.then(d,d)}c(i)})}function mn(e){const t=$r(e);return t.equals=li,t}function fi(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)et(t[r])}}function Bs(e){for(var t=e.parent;t!==null;){if((t.f&$e)===0)return t;t=t.parent}return null}function _n(e){var t,r=Y;vt(Bs(e));try{fi(e),t=qi(e)}finally{vt(r)}return t}function vi(e){var t=_n(e);if(e.equals(t)||(e.v=t,e.wv=Ri()),!Pt){var r=(lt||(e.f&Ne)!==0)&&e.deps!==null?nt:ve;we(e,r)}}function Os(e,t,r){const n=Vt()?$r:mn;if(t.length===0){r(e.map(n));return}var i=K,s=Y,o=Ms(),l=Is();Promise.all(t.map(u=>Ds(u))).then(u=>{i==null||i.activate(),o();try{r([...e.map(n),...u])}catch(c){(s.f&At)===0&&dn(c,s)}i==null||i.deactivate(),di()}).catch(u=>{l.error(u)})}function Ms(){var e=Y,t=H,r=Z,n=K;return function(){vt(e),Ye(t),yr(r),n==null||n.activate()}}function di(){vt(null),Ye(null),yr(null)}const Hr=new Set;let K=null,mr=null,$n=new Set,wr=[];function pi(){const e=wr.shift();wr.length>0&&queueMicrotask(pi),e()}let Et=[],qr=null,Zr=!1,_r=!1;var ir,Dt,at,sr,ar,gt,Bt,bt,ot,Ot,or,lr,Oe,mi,hr,en;const zr=class zr{constructor(){xe(this,Oe);Jt(this,"current",new Map);xe(this,ir,new Map);xe(this,Dt,new Set);xe(this,at,0);xe(this,sr,null);xe(this,ar,!1);xe(this,gt,[]);xe(this,Bt,[]);xe(this,bt,[]);xe(this,ot,[]);xe(this,Ot,[]);xe(this,or,[]);xe(this,lr,[]);Jt(this,"skipped_effects",new Set)}process(t){var i;Et=[],mr=null;for(const s of t)ht(this,Oe,mi).call(this,s);if(W(this,gt).length===0&&W(this,at)===0){ht(this,Oe,en).call(this);var r=W(this,bt),n=W(this,ot);qe(this,bt,[]),qe(this,ot,[]),qe(this,Ot,[]),mr=K,K=null,qn(r),qn(n),K===null?K=this:Hr.delete(this),(i=W(this,sr))==null||i.resolve()}else ht(this,Oe,hr).call(this,W(this,bt)),ht(this,Oe,hr).call(this,W(this,ot)),ht(this,Oe,hr).call(this,W(this,Ot));for(const s of W(this,gt))kt(s);for(const s of W(this,Bt))kt(s);qe(this,gt,[]),qe(this,Bt,[])}capture(t,r){W(this,ir).has(t)||W(this,ir).set(t,r),this.current.set(t,t.v)}activate(){K=this}deactivate(){K=null,mr=null;for(const t of $n)if($n.delete(t),t(),K!==null)break}neuter(){qe(this,ar,!0)}flush(){Et.length>0?_i():ht(this,Oe,en).call(this),K===this&&(W(this,at)===0&&Hr.delete(this),this.deactivate())}increment(){qe(this,at,W(this,at)+1)}decrement(){if(qe(this,at,W(this,at)-1),W(this,at)===0){for(const t of W(this,or))we(t,Le),Mt(t);for(const t of W(this,lr))we(t,nt),Mt(t);qe(this,bt,[]),qe(this,ot,[]),this.flush()}else this.deactivate()}add_callback(t){W(this,Dt).add(t)}settled(){return(W(this,sr)??qe(this,sr,ns())).promise}static ensure(){if(K===null){const t=K=new zr;Hr.add(K),_r||zr.enqueue(()=>{K===t&&t.flush()})}return K}static enqueue(t){wr.length===0&&queueMicrotask(pi),wr.unshift(t)}};ir=new WeakMap,Dt=new WeakMap,at=new WeakMap,sr=new WeakMap,ar=new WeakMap,gt=new WeakMap,Bt=new WeakMap,bt=new WeakMap,ot=new WeakMap,Ot=new WeakMap,or=new WeakMap,lr=new WeakMap,Oe=new WeakSet,mi=function(t){var f;t.f^=ve;for(var r=t.first;r!==null;){var n=r.f,i=(n&(rt|zt))!==0,s=i&&(n&ve)!==0,o=s||(n&De)!==0||this.skipped_effects.has(r);if(!o&&r.fn!==null){if(i)r.f^=ve;else if((n&un)!==0)W(this,ot).push(r);else if((n&ve)===0)if((n&cn)!==0){var l=(f=r.b)!=null&&f.pending?W(this,Bt):W(this,gt);l.push(r)}else vr(r)&&((r.f&St)!==0&&W(this,Ot).push(r),kt(r));var u=r.first;if(u!==null){r=u;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)r=c.next,c=c.parent}},hr=function(t){for(const r of t)((r.f&Le)!==0?W(this,or):W(this,lr)).push(r),we(r,ve);t.length=0},en=function(){if(!W(this,ar))for(const t of W(this,Dt))t();W(this,Dt).clear()};let tr=zr;function Xs(e){var t=_r;_r=!0;try{for(var r;;){if(Ls(),Et.length===0&&(K==null||K.flush(),Et.length===0))return qr=null,r;_i()}}finally{_r=t}}function _i(){var e=It;Zr=!0;try{var t=0;for(In(!0);Et.length>0;){var r=tr.ensure();if(t++>1e3){var n,i;Fs()}r.process(Et),ct.clear()}}finally{Zr=!1,In(e),qr=null}}function Fs(){try{fs()}catch(e){dn(e,qr)}}let Je=null;function qn(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(At|De))===0&&vr(n)&&(Je=[],kt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Ai(n):n.fn=null),(Je==null?void 0:Je.length)>0)){ct.clear();for(const i of Je)kt(i);Je=[]}}Je=null}}function Mt(e){for(var t=qr=e;t.parent!==null;){t=t.parent;var r=t.f;if(Zr&&t===Y&&(r&St)!==0)return;if((r&(zt|rt))!==0){if((r&ve)===0)return;t.f^=ve}}Et.push(t)}const ct=new Map;function rr(e,t){var r={f:0,v:e,reactions:null,equals:oi,rv:0,wv:0};return r}function it(e,t){const r=rr(e);return ra(r),r}function j(e,t=!1,r=!0){var i;const n=rr(e);return t||(n.equals=li),Ut&&r&&Z!==null&&Z.l!==null&&((i=Z.l).s??(i.s=[])).push(n),n}function be(e,t){return z(e,q(()=>a(e))),t}function z(e,t,r=!1){H!==null&&(!Ue||(H.f&Rn)!==0)&&Vt()&&(H.f&($e|St|cn|Rn))!==0&&!(ye!=null&&ye.includes(e))&&_s();let n=r?Lt(t):t;return Xt(e,n)}function Xt(e,t){if(!e.equals(t)){var r=e.v;Pt?ct.set(e,t):ct.set(e,r),e.v=t;var n=tr.ensure();n.capture(e,r),(e.f&$e)!==0&&((e.f&Le)!==0&&_n(e),we(e,(e.f&Ne)===0?ve:nt)),e.wv=Ri(),hi(e,Le),Vt()&&Y!==null&&(Y.f&ve)!==0&&(Y.f&(rt|zt))===0&&(je===null?na([e]):je.push(e))}return t}function Yr(e){z(e,e.v+1)}function hi(e,t){var r=e.reactions;if(r!==null)for(var n=Vt(),i=r.length,s=0;s<i;s++){var o=r[s],l=o.f;if(!(!n&&o===Y)){var u=(l&Le)===0;u&&we(o,t),(l&$e)!==0?hi(o,nt):u&&((l&St)!==0&&Je!==null&&Je.push(o),Mt(o))}}}function Lt(e){if(typeof e!="object"||e===null||Ze in e)return e;const t=ln(e);if(t!==es&&t!==ts)return e;var r=new Map,n=Ft(e),i=it(0),s=wt,o=l=>{if(wt===s)return l();var u=H,c=wt;Ye(null),Bn(s);var f=l();return Ye(u),Bn(c),f};return n&&r.set("length",it(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ps();var f=r.get(u);return f===void 0?f=o(()=>{var d=it(c.value);return r.set(u,d),d}):z(f,c.value,!0),!0},deleteProperty(l,u){var c=r.get(u);if(c===void 0){if(u in l){const f=o(()=>it(ce));r.set(u,f),Yr(i)}}else z(c,ce),Yr(i);return!0},get(l,u,c){var g;if(u===Ze)return e;var f=r.get(u),d=u in l;if(f===void 0&&(!d||(g=ut(l,u))!=null&&g.writable)&&(f=o(()=>{var v=Lt(d?l[u]:ce),h=it(v);return h}),r.set(u,f)),f!==void 0){var b=a(f);return b===ce?void 0:b}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var f=r.get(u);f&&(c.value=a(f))}else if(c===void 0){var d=r.get(u),b=d==null?void 0:d.v;if(d!==void 0&&b!==ce)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return c},has(l,u){var b;if(u===Ze)return!0;var c=r.get(u),f=c!==void 0&&c.v!==ce||Reflect.has(l,u);if(c!==void 0||Y!==null&&(!f||(b=ut(l,u))!=null&&b.writable)){c===void 0&&(c=o(()=>{var g=f?Lt(l[u]):ce,v=it(g);return v}),r.set(u,c));var d=a(c);if(d===ce)return!1}return f},set(l,u,c,f){var C;var d=r.get(u),b=u in l;if(n&&u==="length")for(var g=c;g<d.v;g+=1){var v=r.get(g+"");v!==void 0?z(v,ce):g in l&&(v=o(()=>it(ce)),r.set(g+"",v))}if(d===void 0)(!b||(C=ut(l,u))!=null&&C.writable)&&(d=o(()=>it(void 0)),z(d,Lt(c)),r.set(u,d));else{b=d.v!==ce;var h=o(()=>Lt(c));z(d,h)}var w=Reflect.getOwnPropertyDescriptor(l,u);if(w!=null&&w.set&&w.set.call(f,c),!b){if(n&&typeof u=="string"){var x=r.get("length"),S=Number(u);Number.isInteger(S)&&S>=x.v&&z(x,S+1)}Yr(i)}return!0},ownKeys(l){a(i);var u=Reflect.ownKeys(l).filter(d=>{var b=r.get(d);return b===void 0||b.v!==ce});for(var[c,f]of r)f.v!==ce&&!(c in l)&&u.push(c);return u},setPrototypeOf(){ms()}})}function jn(e){try{if(e!==null&&typeof e=="object"&&Ze in e)return e[Ze]}catch{}return e}function Us(e,t){return Object.is(jn(e),jn(t))}var Nn,gi,bi,yi;function Vs(){if(Nn===void 0){Nn=window,gi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;bi=ut(t,"firstChild").get,yi=ut(t,"nextSibling").get,Tn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Tn(r)&&(r.__t=void 0)}}function pt(e=""){return document.createTextNode(e)}function kr(e){return bi.call(e)}function jr(e){return yi.call(e)}function m(e,t){return kr(e)}function ae(e,t){{var r=kr(e);return r instanceof Comment&&r.data===""?jr(r):r}}function _(e,t=1,r=!1){let n=e;for(;t--;)n=jr(n);return n}function Hs(e){e.textContent=""}function Nr(){return!1}let Ln=!1;function Ys(){Ln||(Ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Ht(e){var t=H,r=Y;Ye(null),vt(null);try{return e()}finally{Ye(t),vt(r)}}function wi(e,t,r,n=r){e.addEventListener(t,()=>Ht(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Ys()}function ki(e){Y===null&&H===null&&cs(),H!==null&&(H.f&Ne)!==0&&Y===null&&us(),Pt&&ls()}function Gs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ge(e,t,r,n=!0){var i=Y;i!==null&&(i.f&De)!==0&&(e|=De);var s={ctx:Z,deps:null,nodes_start:null,nodes_end:null,f:e|Le,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{kt(s),s.f|=Cr}catch(u){throw et(s),u}else t!==null&&Mt(s);if(n){var o=s;if(r&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&cr)===0&&(o=o.first),o!==null&&(o.parent=i,i!==null&&Gs(o,i),H!==null&&(H.f&$e)!==0&&(e&zt)===0)){var l=H;(l.effects??(l.effects=[])).push(o)}}return s}function hn(e){const t=Ge(Ar,null,!1);return we(t,ve),t.teardown=e,t}function tn(e){ki();var t=Y.f,r=!H&&(t&rt)!==0&&(t&Cr)===0;if(r){var n=Z;(n.e??(n.e=[])).push(e)}else return Ei(e)}function Ei(e){return Ge(un|ii,e,!1)}function Ws(e){return ki(),Ge(Ar|ii,e,!0)}function Js(e){tr.ensure();const t=Ge(zt|cr,e,!0);return(r={})=>new Promise(n=>{r.outro?fr(t,()=>{et(t),n(void 0)}):(et(t),n(void 0))})}function xi(e){return Ge(un,e,!1)}function ze(e,t){var r=Z,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=gn(()=>{e(),!n.ran&&(n.ran=!0,q(t))})}function Ct(){var e=Z;gn(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&ve)!==0&&we(r,nt),vr(r)&&kt(r),t.ran=!1}})}function Ks(e){return Ge(cn|cr,e,!0)}function gn(e,t=0){return Ge(Ar|t,e,!0)}function G(e,t=[],r=[]){Os(t,r,n=>{Ge(Ar,()=>e(...n.map(a)),!0)})}function Lr(e,t=0){var r=Ge(St|t,e,!0);return r}function xt(e,t=!0){return Ge(rt|cr,e,!0,t)}function Si(e){var t=e.teardown;if(t!==null){const r=Pt,n=H;Dn(!0),Ye(null);try{t.call(null)}finally{Dn(r),Ye(n)}}}function zi(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&Ht(()=>{i.abort(fn)});var n=r.next;(r.f&zt)!==0?r.parent=null:et(r,t),r=n}}function Qs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&rt)===0&&et(t),t=r}}function et(e,t=!0){var r=!1;(t||(e.f&is)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Zs(e.nodes_start,e.nodes_end),r=!0),zi(e,t&&!r),Er(e,0),we(e,At);var n=e.transitions;if(n!==null)for(const s of n)s.stop();Si(e);var i=e.parent;i!==null&&i.first!==null&&Ai(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Zs(e,t){for(;e!==null;){var r=e===t?null:jr(e);e.remove(),e=r}}function Ai(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function fr(e,t){var r=[];bn(e,r,!0),Ci(r,()=>{et(e),t&&t()})}function Ci(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function bn(e,t,r){if((e.f&De)===0){if(e.f^=De,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&ur)!==0||(n.f&rt)!==0;bn(n,t,s?r:!1),n=i}}}function yn(e){Pi(e,!0)}function Pi(e,t){if((e.f&De)!==0){e.f^=De,(e.f&ve)===0&&(we(e,Le),Mt(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&ur)!==0||(r.f&rt)!==0;Pi(r,i?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let st=null;function ea(e){var t=st;try{if(st=new Set,q(e),t!==null)for(var r of st)t.add(r);return st}finally{st=t}}function ta(e){for(var t of ea(e))Xt(t,t.v)}let It=!1;function In(e){It=e}let Pt=!1;function Dn(e){Pt=e}let H=null,Ue=!1;function Ye(e){H=e}let Y=null;function vt(e){Y=e}let ye=null;function ra(e){H!==null&&(ye===null?ye=[e]:ye.push(e))}let ge=null,Ce=0,je=null;function na(e){je=e}let Ti=1,nr=0,wt=nr;function Bn(e){wt=e}let lt=!1;function Ri(){return++Ti}function vr(e){var d;var t=e.f;if((t&Le)!==0)return!0;if((t&nt)!==0){var r=e.deps,n=(t&Ne)!==0;if(r!==null){var i,s,o=(t&br)!==0,l=n&&Y!==null&&!lt,u=r.length;if((o||l)&&(Y===null||(Y.f&At)===0)){var c=e,f=c.parent;for(i=0;i<u;i++)s=r[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=br),l&&f!==null&&(f.f&Ne)===0&&(c.f^=Ne)}for(i=0;i<u;i++)if(s=r[i],vr(s)&&vi(s),s.wv>e.wv)return!0}(!n||Y!==null&&!lt)&&we(e,ve)}return!1}function $i(e,t,r=!0){var n=e.reactions;if(n!==null&&!(ye!=null&&ye.includes(e)))for(var i=0;i<n.length;i++){var s=n[i];(s.f&$e)!==0?$i(s,t,!1):t===s&&(r?we(s,Le):(s.f&ve)!==0&&we(s,nt),Mt(s))}}function qi(e){var h;var t=ge,r=Ce,n=je,i=H,s=lt,o=ye,l=Z,u=Ue,c=wt,f=e.f;ge=null,Ce=0,je=null,lt=(f&Ne)!==0&&(Ue||!It||H===null),H=(f&(rt|zt))===0?e:null,ye=null,yr(e.ctx),Ue=!1,wt=++nr,e.ac!==null&&(Ht(()=>{e.ac.abort(fn)}),e.ac=null);try{e.f|=Kr;var d=e.fn,b=d(),g=e.deps;if(ge!==null){var v;if(Er(e,Ce),g!==null&&Ce>0)for(g.length=Ce+ge.length,v=0;v<ge.length;v++)g[Ce+v]=ge[v];else e.deps=g=ge;if(!lt||(f&$e)!==0&&e.reactions!==null)for(v=Ce;v<g.length;v++)((h=g[v]).reactions??(h.reactions=[])).push(e)}else g!==null&&Ce<g.length&&(Er(e,Ce),g.length=Ce);if(Vt()&&je!==null&&!Ue&&g!==null&&(e.f&($e|nt|Le))===0)for(v=0;v<je.length;v++)$i(je[v],e);return i!==null&&i!==e&&(nr++,je!==null&&(n===null?n=je:n.push(...je))),(e.f&yt)!==0&&(e.f^=yt),b}catch(w){return js(w)}finally{e.f^=Kr,ge=t,Ce=r,je=n,H=i,lt=s,ye=o,yr(l),Ue=u,wt=c}}function ia(e,t){let r=t.reactions;if(r!==null){var n=Zi.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&$e)!==0&&(ge===null||!ge.includes(t))&&(we(t,nt),(t.f&(Ne|br))===0&&(t.f^=br),fi(t),Er(t,0))}function Er(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ia(e,r[n])}function kt(e){var t=e.f;if((t&At)===0){we(e,ve);var r=Y,n=It;Y=e,It=!0;try{(t&St)!==0?Qs(e):zi(e),Si(e);var i=qi(e);e.teardown=typeof i=="function"?i:null,e.wv=Ti;var s;ti&&Rs&&(e.f&Le)!==0&&e.deps}finally{It=n,Y=r}}}async function wn(){await Promise.resolve(),Xs()}function a(e){var t=e.f,r=(t&$e)!==0;if(st==null||st.add(e),H!==null&&!Ue){var n=Y!==null&&(Y.f&At)!==0;if(!n&&!(ye!=null&&ye.includes(e))){var i=H.deps;if((H.f&Kr)!==0)e.rv<nr&&(e.rv=nr,ge===null&&i!==null&&i[Ce]===e?Ce++:ge===null?ge=[e]:(!lt||!ge.includes(e))&&ge.push(e));else{(H.deps??(H.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[H]:s.includes(H)||s.push(H)}}}else if(r&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&Ne)===0&&(o.f^=Ne)}if(Pt){if(ct.has(e))return ct.get(e);if(r){o=e;var u=o.v;return((o.f&ve)===0&&o.reactions!==null||ji(o))&&(u=_n(o)),ct.set(o,u),u}}else r&&(o=e,vr(o)&&vi(o));if((e.f&yt)!==0)throw e.v;return e.v}function ji(e){if(e.v===ce)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ct.has(t)||(t.f&$e)!==0&&ji(t))return!0;return!1}function q(e){var t=Ue;try{return Ue=!0,e()}finally{Ue=t}}const sa=-7169;function we(e,t){e.f=e.f&sa|t}function fe(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ze in e)rn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ze in r&&rn(r)}}}function rn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{rn(e[n],t)}catch{}const r=ln(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=ri(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}const aa=["touchstart","touchmove"];function oa(e){return aa.includes(e)}const Ni=new Set,nn=new Set;function la(e,t,r,n={}){function i(s){if(n.capture||Kt.call(t,s),!s.cancelBubble)return Ht(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pn(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function I(e,t,r,n,i){var s={capture:n,passive:i},o=la(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&hn(()=>{t.removeEventListener(e,o,s)})}function ua(e){for(var t=0;t<e.length;t++)Ni.add(e[t]);for(var r of nn)r(e)}let On=null;function Kt(e){var S;var t=this,r=t.ownerDocument,n=e.type,i=((S=e.composedPath)==null?void 0:S.call(e))||[],s=i[0]||e.target;On=e;var o=0,l=On===e&&e.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;u<=c&&(o=u)}if(s=i[o]||e.target,s!==t){gr(e,"currentTarget",{configurable:!0,get(){return s||r}});var f=H,d=Y;Ye(null),vt(null);try{for(var b,g=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var h=s["__"+n];if(h!=null&&(!s.disabled||e.target===s))if(Ft(h)){var[w,...x]=h;w.apply(s,[e,...x])}else h.call(s,e)}catch(C){b?g.push(C):b=C}if(e.cancelBubble||v===t||v===null)break;s=v}if(b){for(let C of g)queueMicrotask(()=>{throw C});throw b}}finally{e.__root=t,delete e.currentTarget,Ye(f),vt(d)}}}function ca(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function xr(e,t){var r=Y;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function R(e,t){var r=(t&Ss)!==0,n=(t&zs)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=ca(s?e:"<!>"+e),r||(i=kr(i)));var o=n||gi?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=kr(o),u=o.lastChild;xr(l,u)}else xr(o,o);return o}}function Sr(e=""){{var t=pt(e+"");return xr(t,t),t}}function de(){var e=document.createDocumentFragment(),t=document.createComment(""),r=pt();return e.append(t,r),xr(t,r),e}function P(e,t){e!==null&&e.before(t)}let sn=!0;function Q(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function fa(e,t){return va(e,t)}const qt=new Map;function va(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0}){Vs();var l=new Set,u=d=>{for(var b=0;b<d.length;b++){var g=d[b];if(!l.has(g)){l.add(g);var v=oa(g);t.addEventListener(g,Kt,{passive:v});var h=qt.get(g);h===void 0?(document.addEventListener(g,Kt,{passive:v}),qt.set(g,1)):qt.set(g,h+1)}}};u(on(Ni)),nn.add(u);var c=void 0,f=Js(()=>{var d=r??t.appendChild(pt());return xt(()=>{if(s){ke({});var b=Z;b.c=s}i&&(n.$$events=i),sn=o,c=e(d,n)||{},sn=!0,s&&Ee()}),()=>{var v;for(var b of l){t.removeEventListener(b,Kt);var g=qt.get(b);--g===0?(document.removeEventListener(b,Kt),qt.delete(b)):qt.set(b,g)}nn.delete(u),d!==r&&((v=d.parentNode)==null||v.removeChild(d))}});return da.set(c,f),c}let da=new WeakMap;function U(e,t,r=!1){var n=e,i=null,s=null,o=ce,l=r?ur:0,u=!1;const c=(g,v=!0)=>{u=!0,b(v,g)};var f=null;function d(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var g=o?i:s,v=o?s:i;g&&yn(g),v&&fr(v,()=>{o?s=null:i=null})}const b=(g,v)=>{if(o!==(o=g)){var h=Nr(),w=n;if(h&&(f=document.createDocumentFragment(),f.append(w=pt())),o?i??(i=v&&xt(()=>v(w))):s??(s=v&&xt(()=>v(w))),h){var x=K,S=o?i:s,C=o?s:i;S&&x.skipped_effects.delete(S),C&&x.skipped_effects.add(C),x.add_callback(d)}else d()}};Lr(()=>{u=!1,t(c),u||b(null,null)},l)}function pa(e,t,r){var n=e,i=ce,s,o,l=null,u=Vt()?Ts:vn;function c(){s&&fr(s),l!==null&&(l.lastChild.remove(),n.before(l),l=null),s=o}Lr(()=>{if(u(i,i=t())){var f=n,d=Nr();d&&(l=document.createDocumentFragment(),l.append(f=pt())),o=xt(()=>r(f)),d?K.add_callback(c):c()}})}function kn(e,t){return t}function ma(e,t,r){for(var n=e.items,i=[],s=t.length,o=0;o<s;o++)bn(t[o].e,i,!0);var l=s>0&&i.length===0&&r!==null;if(l){var u=r.parentNode;Hs(u),u.append(r),n.clear(),Fe(e,t[0].prev,t[s-1].next)}Ci(i,()=>{for(var c=0;c<s;c++){var f=t[c];l||(n.delete(f.k),Fe(e,f.prev,f.next)),et(f.e,!l)}})}function dt(e,t,r,n,i,s=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&ai)!==0;if(u){var c=e;o=c.appendChild(pt())}var f=null,d=!1,b=new Map,g=mn(()=>{var x=r();return Ft(x)?x:x==null?[]:on(x)}),v,h;function w(){_a(h,v,l,b,o,i,t,n,r),s!==null&&(v.length===0?f?yn(f):f=xt(()=>s(o)):f!==null&&fr(f,()=>{f=null}))}Lr(()=>{h??(h=Y),v=a(g);var x=v.length;if(!(d&&x===0)){d=x===0;var S,C,k,A;if(Nr()){var y=new Set,p=K;for(C=0;C<x;C+=1){k=v[C],A=n(k,C);var E=l.items.get(A)??b.get(A);E?(t&(Tr|Rr))!==0&&Li(E,k,C,t):(S=Ii(null,l,null,null,k,A,C,i,t,r,!0),b.set(A,S)),y.add(A)}for(const[T,N]of l.items)y.has(T)||p.skipped_effects.add(N.e);p.add_callback(w)}else w();a(g)}})}function _a(e,t,r,n,i,s,o,l,u){var re,J,$,B;var c=(o&hs)!==0,f=(o&(Tr|Rr))!==0,d=t.length,b=r.items,g=r.first,v=g,h,w=null,x,S=[],C=[],k,A,y,p;if(c)for(p=0;p<d;p+=1)k=t[p],A=l(k,p),y=b.get(A),y!==void 0&&((re=y.a)==null||re.measure(),(x??(x=new Set)).add(y));for(p=0;p<d;p+=1){if(k=t[p],A=l(k,p),y=b.get(A),y===void 0){var E=n.get(A);if(E!==void 0){n.delete(A),b.set(A,E);var T=w?w.next:v;Fe(r,w,E),Fe(r,E,T),Gr(E,T,i),w=E}else{var N=v?v.e.nodes_start:i;w=Ii(N,r,w,w===null?r.first:w.next,k,A,p,s,o,u)}b.set(A,w),S=[],C=[],v=w.next;continue}if(f&&Li(y,k,p,o),(y.e.f&De)!==0&&(yn(y.e),c&&((J=y.a)==null||J.unfix(),(x??(x=new Set)).delete(y))),y!==v){if(h!==void 0&&h.has(y)){if(S.length<C.length){var D=C[0],F;w=D.prev;var L=S[0],O=S[S.length-1];for(F=0;F<S.length;F+=1)Gr(S[F],D,i);for(F=0;F<C.length;F+=1)h.delete(C[F]);Fe(r,L.prev,O.next),Fe(r,w,L),Fe(r,O,D),v=D,w=O,p-=1,S=[],C=[]}else h.delete(y),Gr(y,v,i),Fe(r,y.prev,y.next),Fe(r,y,w===null?r.first:w.next),Fe(r,w,y),w=y;continue}for(S=[],C=[];v!==null&&v.k!==A;)(v.e.f&De)===0&&(h??(h=new Set)).add(v),C.push(v),v=v.next;if(v===null)continue;y=v}S.push(y),w=y,v=y.next}if(v!==null||h!==void 0){for(var ne=h===void 0?[]:on(h);v!==null;)(v.e.f&De)===0&&ne.push(v),v=v.next;var oe=ne.length;if(oe>0){var V=(o&ai)!==0&&d===0?i:null;if(c){for(p=0;p<oe;p+=1)($=ne[p].a)==null||$.measure();for(p=0;p<oe;p+=1)(B=ne[p].a)==null||B.fix()}ma(r,ne,V)}}c&&pn(()=>{var ee;if(x!==void 0)for(y of x)(ee=y.a)==null||ee.apply()}),e.first=r.first&&r.first.e,e.last=w&&w.e;for(var M of n.values())et(M.e);n.clear()}function Li(e,t,r,n){(n&Tr)!==0&&Xt(e.v,t),(n&Rr)!==0?Xt(e.i,r):e.i=r}function Ii(e,t,r,n,i,s,o,l,u,c,f){var d=(u&Tr)!==0,b=(u&gs)===0,g=d?b?j(i,!1,!1):rr(i):i,v=(u&Rr)===0?o:rr(o),h={i:v,v:g,k:s,a:null,e:null,prev:r,next:n};try{if(e===null){var w=document.createDocumentFragment();w.append(e=pt())}return h.e=xt(()=>l(e,g,v,c),Ps),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?f||(t.first=h):(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Gr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==n;){var o=jr(s);i.before(s),s=o}}function Fe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ha(e,t,r,n,i){var l;var s=(l=t.$$slots)==null?void 0:l[r],o=!1;s===!0&&(s=t.children,o=!0),s===void 0||s(e,o?()=>n:n)}function Mn(e,t,r){var n=e,i,s,o=null,l=null;function u(){s&&(fr(s),s=null),o&&(o.lastChild.remove(),n.before(o),o=null),s=l,l=null}Lr(()=>{if(i!==(i=t())){var c=Nr();if(i){var f=n;c&&(o=document.createDocumentFragment(),o.append(f=pt()),s&&K.skipped_effects.add(s)),l=xt(()=>r(f,i))}c?K.add_callback(u):u()}},ur)}const Xn=[...` 	
\r\f \v\uFEFF`];function ga(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var l=o+s;(o===0||Xn.includes(n[o-1]))&&(l===n.length||Xn.includes(n[l]))?n=(o===0?"":n.substring(0,o))+n.substring(l+1):o=l}}return n===""?null:n}function ba(e,t){return e==null?null:String(e)}function Se(e,t,r,n,i,s){var o=e.__className;if(o!==r||o===void 0){var l=ga(r,n,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(s&&i!==s)for(var u in s){var c=!!s[u];(i==null||c!==!!i[u])&&e.classList.toggle(u,c)}return s}function ya(e,t,r,n){var i=e.__style;if(i!==t){var s=ba(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return n}function Di(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Ft(t))return Cs();for(var n of e.options)n.selected=t.includes(Qt(n));return}for(n of e.options){var i=Qt(n);if(Us(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function wa(e){var t=new MutationObserver(()=>{Di(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),hn(()=>{t.disconnect()})}function ka(e,t,r=t){var n=!0;wi(e,"change",i=>{var s=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),Qt);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");o=l&&Qt(l)}r(o)}),xi(()=>{var i=t();if(Di(e,i,n),n&&i===void 0){var s=e.querySelector(":checked");s!==null&&(i=Qt(s),r(i))}e.__value=i,n=!1}),wa(e)}function Qt(e){return"__value"in e?e.__value:e.value}const Ea=Symbol("is custom element"),xa=Symbol("is html");function _e(e,t,r,n){var i=Sa(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[ss]=r),r==null?e.removeAttribute(t):typeof r!="string"&&za(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Sa(e){return e.__attributes??(e.__attributes={[Ea]:e.nodeName.includes("-"),[xa]:e.namespaceURI===As})}var Fn=new Map;function za(e){var t=e.getAttribute("is")||e.nodeName,r=Fn.get(t);if(r)return r;Fn.set(t,r=[]);for(var n,i=e,s=Element.prototype;s!==i;){n=ri(i);for(var o in n)n[o].set&&r.push(o);i=ln(i)}return r}const Aa=()=>performance.now(),Ke={tick:e=>requestAnimationFrame(e),now:()=>Aa(),tasks:new Set};function Bi(){const e=Ke.now();Ke.tasks.forEach(t=>{t.c(e)||(Ke.tasks.delete(t),t.f())}),Ke.tasks.size!==0&&Ke.tick(Bi)}function Ca(e){let t;return Ke.tasks.size===0&&Ke.tick(Bi),{promise:new Promise(r=>{Ke.tasks.add(t={c:e,f:r})}),abort(){Ke.tasks.delete(t)}}}function Un(e,t){Ht(()=>{e.dispatchEvent(new CustomEvent(t))})}function Pa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Vn(e){const t={},r=e.split(";");for(const n of r){const[i,s]=n.split(":");if(!i||s===void 0)break;const o=Pa(i.trim());t[o]=s.trim()}return t}const Ta=e=>e;function Ra(e,t,r,n){var i=(e&xs)!==0,s="in",o,l=t.inert,u=t.style.overflow,c,f;function d(){return Ht(()=>o??(o=r()(t,(n==null?void 0:n())??{},{direction:s})))}var b={is_global:i,in(){t.inert=l,c==null||c.abort(),Un(t,"introstart"),c=Oi(t,d(),f,1,()=>{Un(t,"introend"),c==null||c.abort(),c=o=void 0,t.style.overflow=u})},out(w){{w==null||w(),o=void 0;return}},stop:()=>{c==null||c.abort()}},g=Y;if((g.transitions??(g.transitions=[])).push(b),sn){var v=i;if(!v){for(var h=g.parent;h&&(h.f&ur)!==0;)for(;(h=h.parent)&&(h.f&St)===0;);v=!h||(h.f&Cr)!==0}v&&xi(()=>{q(()=>b.in())})}}function Oi(e,t,r,n,i){if(Nt(t)){var s,o=!1;return pn(()=>{if(!o){var h=t({direction:"in"});s=Oi(e,h,r,n,i)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!(t!=null&&t.duration))return i(),{abort:Te,deactivate:Te,reset:Te,t:()=>n};const{delay:l=0,css:u,tick:c,easing:f=Ta}=t;var d=[];if(c&&c(0,1),u){var b=Vn(u(0,1));d.push(b,b)}var g=()=>1-n,v=e.animate(d,{duration:l,fill:"forwards"});return v.onfinish=()=>{v.cancel();var h=1-n,w=n-h,x=t.duration*Math.abs(w),S=[];if(x>0){var C=!1;if(u)for(var k=Math.ceil(x/16.666666666666668),A=0;A<=k;A+=1){var y=h+w*f(A/k),p=Vn(u(y,1-y));S.push(p),C||(C=p.overflow==="hidden")}C&&(e.style.overflow="hidden"),g=()=>{var E=v.currentTime;return h+w*f(E/x)},c&&Ca(()=>{if(v.playState!=="running")return!1;var E=g();return c(E,1-E),!0})}v=e.animate(S,{duration:x,fill:"forwards"}),v.onfinish=()=>{g=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Te)},deactivate:()=>{i=Te},reset:()=>{},t:()=>g()}}function Re(e,t,r=t){var n=new WeakSet;wi(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=Wr(e)?Jr(s):s,r(s),K!==null&&n.add(K),await wn(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),q(t)==null&&e.value&&(r(Wr(e)?Jr(e.value):e.value),K!==null&&n.add(K)),gn(()=>{var i=t();if(e===document.activeElement){var s=mr??K;if(n.has(s))return}Wr(e)&&i===Jr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Wr(e){var t=e.type;return t==="number"||t==="range"}function Jr(e){return e===""?null:+e}function $a(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Qe(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Ae(e=!1){const t=Z,r=t.l.u;if(!r)return;let n=()=>fe(t.s);if(e){let i=0,s={};const o=$r(()=>{let l=!1;const u=t.s;for(const c in u)u[c]!==s[c]&&(s[c]=u[c],l=!0);return l&&i++,i});n=()=>a(o)}r.b.length&&Ws(()=>{Hn(t,n),Zt(r.b)}),tn(()=>{const i=q(()=>r.m.map(rs));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&tn(()=>{Hn(t,n),Zt(r.a)})}function Hn(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function Yn(e,t){var s;var r=(s=e.$$events)==null?void 0:s[t.type],n=Ft(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,t)}function En(e,t,r){if(e==null)return t(void 0),r&&r(void 0),Te;const n=q(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const jt=[];function Mi(e,t){return{subscribe:ft(e,t).subscribe}}function ft(e,t=Te){let r=null;const n=new Set;function i(l){if(vn(e,l)&&(e=l,r)){const u=!jt.length;for(const c of n)c[1](),jt.push(c,e);if(u){for(let c=0;c<jt.length;c+=2)jt[c][0](jt[c+1]);jt.length=0}}}function s(l){i(l(e))}function o(l,u=Te){const c=[l,u];return n.add(c),n.size===1&&(r=t(i,s)||Te),l(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function Xi(e,t,r){const n=!Array.isArray(e),i=n?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return Mi(r,(o,l)=>{let u=!1;const c=[];let f=0,d=Te;const b=()=>{if(f)return;d();const v=t(n?c[0]:c,o,l);s?o(v):d=typeof v=="function"?v:Te},g=i.map((v,h)=>En(v,w=>{c[h]=w,f&=~(1<<h),u&&b()},()=>{f|=1<<h}));return u=!0,b(),function(){Zt(g),d(),u=!1}})}function qa(e){let t;return En(e,r=>t=r)(),t}let pr=!1,an=Symbol();function Be(e,t,r){const n=r[t]??(r[t]={store:null,source:j(void 0),unsubscribe:Te});if(n.store!==e&&!(an in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Te;else{var i=!0;n.unsubscribe=En(e,s=>{i?n.source.v=s:z(n.source,s)}),i=!1}return e&&an in r?qa(e):a(n.source)}function Tt(){const e={};function t(){hn(()=>{for(var r in e)e[r].unsubscribe();gr(e,an,{enumerable:!1,value:!0})})}return[e,t]}function ja(e){var t=pr;try{return pr=!1,[e(),pr]}finally{pr=t}}const Na={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(Nt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let i=e.props[n];Nt(i)&&(i=i());const s=ut(i,t);if(s&&s.set)return s.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(Nt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const i=ut(n,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Ze||t===si)return!1;for(let r of e.props)if(Nt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props)if(Nt(r)&&(r=r()),!!r){for(const n in r)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(r))t.includes(n)||t.push(n)}return t}};function Gn(...e){return new Proxy({props:e},Na)}function He(e,t,r,n){var C;var i=!Ut||(r&ys)!==0,s=(r&ks)!==0,o=(r&Es)!==0,l=n,u=!0,c=()=>(u&&(u=!1,l=o?q(n):n),l),f;if(s){var d=Ze in e||si in e;f=((C=ut(e,t))==null?void 0:C.set)??(d&&t in e?k=>e[t]=k:void 0)}var b,g=!1;s?[b,g]=ja(()=>e[t]):b=e[t],b===void 0&&n!==void 0&&(b=c(),f&&(i&&ds(),f(b)));var v;if(i?v=()=>{var k=e[t];return k===void 0?c():(u=!0,k)}:v=()=>{var k=e[t];return k!==void 0&&(l=void 0),k===void 0?l:k},i&&(r&ws)===0)return v;if(f){var h=e.$$legacy;return(function(k,A){return arguments.length>0?((!i||!A||h||g)&&f(A?v():k),k):v()})}var w=!1,x=((r&bs)!==0?$r:mn)(()=>(w=!1,v()));s&&a(x);var S=Y;return(function(k,A){if(arguments.length>0){const y=A?a(x):i&&s?Lt(k):k;return z(x,y),w=!0,l!==void 0&&(l=y),k}return Pt&&w||(S.f&At)!==0?x.v:a(x)})}function tt(e){Z===null&&Pr(),Ut&&Z.l!==null?Fi(Z).m.push(e):tn(()=>{const t=q(e);if(typeof t=="function")return t})}function La(e){Z===null&&Pr(),tt(()=>()=>q(e))}function Ia(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Da(){const e=Z;return e===null&&Pr(),(t,r,n)=>{var s;const i=(s=e.s.$$events)==null?void 0:s[t];if(i){const o=Ft(i)?i.slice():[i],l=Ia(t,r,n);for(const u of o)u.call(e.x,l);return!l.defaultPrevented}return!0}}function Ba(e){Z===null&&Pr(),Z.l===null&&vs(),Fi(Z).a.push(e)}function Fi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Oa="5";var ei;typeof window<"u"&&((ei=window.__svelte??(window.__svelte={})).v??(ei.v=new Set)).add(Oa);$s();function Ma(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,s,o=[],l="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)r=i[0],r==="*"?(o.push("wild"),l+="/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}function Wn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const xn=Mi(null,function(t){t(Wn());const r=()=>{t(Wn())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}}),Xa=Xi(xn,e=>e.location);Xi(xn,e=>e.querystring);const Jn=ft(void 0);async function Pe(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await wn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Fa(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ua(e,t){ke(t,!1);let r=He(t,"routes",24,()=>({})),n=He(t,"prefix",8,""),i=He(t,"restoreScrollState",8,!1);class s{constructor(y,p){if(!p||typeof p!="function"&&(typeof p!="object"||p._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:E,keys:T}=Ma(y);this.path=y,typeof p=="object"&&p._sveltesparouter===!0?(this.component=p.component,this.conditions=p.conditions||[],this.userData=p.userData,this.props=p.props||{}):(this.component=()=>Promise.resolve(p),this.conditions=[],this.props={}),this._pattern=E,this._keys=T}match(y){if(n()){if(typeof n()=="string")if(y.startsWith(n()))y=y.substr(n().length)||"/";else return null;else if(n()instanceof RegExp){const N=y.match(n());if(N&&N[0])y=y.substr(N[0].length)||"/";else return null}}const p=this._pattern.exec(y);if(p===null)return null;if(this._keys===!1)return p;const E={};let T=0;for(;T<this._keys.length;){try{E[this._keys[T]]=decodeURIComponent(p[T+1]||"")||null}catch{E[this._keys[T]]=null}T++}return E}async checkConditions(y){for(let p=0;p<this.conditions.length;p++)if(!await this.conditions[p](y))return!1;return!0}}const o=[];r()instanceof Map?r().forEach((A,y)=>{o.push(new s(y,A))}):Object.keys(r()).forEach(A=>{o.push(new s(A,r()[A]))});let l=j(null),u=j(null),c=j({});const f=Da();async function d(A,y){await wn(),f(A,y)}let b=null,g=null;i()&&(g=A=>{A.state&&(A.state.__svelte_spa_router_scrollY||A.state.__svelte_spa_router_scrollX)?b=A.state:b=null},window.addEventListener("popstate",g),Ba(()=>{Fa(b)}));let v=null,h=null;const w=xn.subscribe(async A=>{v=A;let y=0;for(;y<o.length;){const p=o[y].match(A.location);if(!p){y++;continue}const E={route:o[y].path,location:A.location,querystring:A.querystring,userData:o[y].userData,params:p&&typeof p=="object"&&Object.keys(p).length?p:null};if(!await o[y].checkConditions(E)){z(l,null),h=null,d("conditionsFailed",E);return}d("routeLoading",Object.assign({},E));const T=o[y].component;if(h!=T){T.loading?(z(l,T.loading),h=T,z(u,T.loadingParams),z(c,{}),d("routeLoaded",Object.assign({},E,{component:a(l),name:a(l).name,params:a(u)}))):(z(l,null),h=null);const N=await T();if(A!=v)return;z(l,N&&N.default||N),h=T}p&&typeof p=="object"&&Object.keys(p).length?z(u,p):z(u,null),z(c,o[y].props),d("routeLoaded",Object.assign({},E,{component:a(l),name:a(l).name,params:a(u)})).then(()=>{Jn.set(a(u))});return}z(l,null),h=null,Jn.set(void 0)});La(()=>{w(),g&&window.removeEventListener("popstate",g)}),ze(()=>fe(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),Ct(),Ae();var x=de(),S=ae(x);{var C=A=>{var y=de(),p=ae(y);Mn(p,()=>a(l),(E,T)=>{T(E,Gn({get params(){return a(u)}},()=>a(c),{$$events:{routeEvent(N){Yn.call(this,t,N)}}}))}),P(A,y)},k=A=>{var y=de(),p=ae(y);Mn(p,()=>a(l),(E,T)=>{T(E,Gn(()=>a(c),{$$events:{routeEvent(N){Yn.call(this,t,N)}}}))}),P(A,y)};U(S,A=>{a(u)?A(C):A(k,!1)})}P(e,x),Ee()}const Ve=ft(void 0),Va="http://youssefgfd-server.eddi.cloud/api";async function Rt(e,t={}){const r=await fetch(`${Va}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers||{}}});if(!r.ok)throw new Error(`${r.status} - ${r.statusText} `);return r.json()}const Kn="token";function Ha(e){const t=(e==null?void 0:e.user)??e;if(!t||typeof t!="object")return null;const r=t.username??t.pseudo??t.name??null;return!t.id||!r?null:{id:t.id,username:r,email:t.email??null}}async function Ya(){const e=localStorage.getItem(Kn);if(!e)return null;try{const t=await Rt("/user/me",{headers:{Authorization:`Bearer ${e}`}});return Ha(t)??null}catch(t){return String((t==null?void 0:t.message)||"").startsWith("401")&&localStorage.removeItem(Kn),console.error("[getMe] failed:",t),null}}const Ui=()=>Rt("/book",{}),Ga=e=>Rt(`/book/${e}`,{});function Vi(e){const t=localStorage.getItem("token")||"";return Rt(`/user/${e}/library`,{headers:{Authorization:`Bearer ${t}`}})}async function Hi(e){if(!(e!=null&&e.trim()))return[];const t=await Rt(`/book/search?query=${encodeURIComponent(e.trim())}`,{});return(t==null?void 0:t.data)||t||[]}async function Wa(e){const t=localStorage.getItem("token");if(!t)throw new Error("Token manquant");return Rt("/book",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)})}function Ja(e,{title:t,status_id:r}){const n=localStorage.getItem("token")||"";return Rt(`/user/${e}/library`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({title:t,status_id:r})})}function Ka(e){const t=e-1;return t*t*t+1}function Qn(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Qa(e,{delay:t=0,duration:r=400,easing:n=Ka,x:i=0,y:s=0,opacity:o=0}={}){const l=getComputedStyle(e),u=+l.opacity,c=l.transform==="none"?"":l.transform,f=u*(1-o),[d,b]=Qn(i),[g,v]=Qn(s);return{delay:t,duration:r,easing:n,css:(h,w)=>`
			transform: ${c} translate(${(1-h)*d}${b}, ${(1-h)*g}${v});
			opacity: ${u-f*w}`}}var Za=R('<div class="svelte-1ymq5l"><!></div>');function eo(e,t){let r=He(t,"key",8,"");var n=de(),i=ae(n);pa(i,r,s=>{var o=Za(),l=m(o);ha(l,t,"default",{}),Ra(1,o,()=>Qa,()=>({y:20,duration:300})),P(s,o)}),P(e,n)}function Zn(e){const t=(e==null?void 0:e.user)??e;if(!t||typeof t!="object")return null;const r=t.username??t.pseudo??t.name??null;return!t.id||!r?null:{id:t.id,username:r,email:t.email??null}}var to=R('<p class="error"> </p>'),ro=R('<p class="success">Connexion réussie !</p>'),no=R('<div class="login-container"><div class="form-section"><form><h2>Connexion</h2> <div class="form-group"><input type="email" id="email" placeholder="Email :" required autocomplete="email"/></div> <div class="form-group"><input type="password" id="password" placeholder="Mot de passe :" required autocomplete="current-password"/></div> <!> <!> <button type="submit" class="submit-btn"><!> <!></button> <div class="register-link svelte-8fthgj"><p class="svelte-8fthgj">Pas encore de compte ? <a href="#/register" class="svelte-8fthgj">Créer un compte</a></p></div></form></div></div>');function io(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(f,"$loading",r),s=()=>Be(u,"$error",r),o=()=>Be(c,"$success",r);let l=j({email:"",password:""});const u=ft(null),c=ft(!1),f=ft(!1);async function d(L){try{return await L.json()}catch{return{}}}async function b(){u.set(null),c.set(!1),f.set(!0);try{const L=await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a(l).email,password:a(l).password})}),O=await d(L);if(!L.ok)throw new Error((O==null?void 0:O.error)||(O==null?void 0:O.message)||`Erreur ${L.status}`);const ne=O==null?void 0:O.token;if(!ne)throw new Error("Aucun token reçu.");localStorage.setItem("token",ne);let oe=Zn(O);if(!oe){const V=await fetch("http://localhost:3000/api/user/me",{headers:{Authorization:`Bearer ${ne}`}}),M=await d(V);if(!V.ok)throw new Error((M==null?void 0:M.error)||(M==null?void 0:M.message)||`Erreur ${V.status}`);oe=Zn(M)}if(!oe)throw new Error("Utilisateur invalide dans la réponse.");Ve.set(oe),c.set(!0),z(l,{email:"",password:""}),setTimeout(()=>{Pe("/")},1e3)}catch(L){u.set((L==null?void 0:L.message)||"Erreur réseau. Veuillez réessayer.")}finally{f.set(!1)}}Ae();var g=no(),v=m(g),h=m(v),w=_(m(h),2),x=m(w),S=_(w,2),C=m(S),k=_(S,2);{var A=L=>{var O=to(),ne=m(O);G(()=>Q(ne,s())),P(L,O)};U(k,L=>{s()&&L(A)})}var y=_(k,2);{var p=L=>{var O=ro();P(L,O)};U(y,L=>{o()&&L(p)})}var E=_(y,2),T=m(E);{var N=L=>{var O=Sr("Connexion…");P(L,O)};U(T,L=>{i()&&L(N)})}var D=_(T,2);{var F=L=>{var O=Sr("Continuer");P(L,O)};U(D,L=>{i()||L(F)})}G(()=>{_e(h,"aria-busy",i()),E.disabled=i()}),Re(x,()=>a(l).email,L=>be(l,a(l).email=L)),Re(C,()=>a(l).password,L=>be(l,a(l).password=L)),I("submit",h,Qe(b)),P(e,g),Ee(),n()}function so(e){io(e,{})}var ao=R('<ul class="book-menu-dropdown"><li><button class="book-status-btn">À lire</button></li> <li><button class="book-status-btn">Lu</button></li></ul>'),oo=R('<div class="cover-label">Pas de couverture</div>'),lo=R('<span class="chip svelte-aivf5b"> </span>'),uo=R('<p class="book-genres svelte-aivf5b"><span class="label svelte-aivf5b">Genres :</span> <!></p>'),co=R('<p class="book-year svelte-aivf5b"><span class="label svelte-aivf5b">Année :</span> </p>'),fo=R('<main class="book-details-page"><div class="book-details-container"><div class="left-section"><div class="cover-container"><div class="cover-placeholder"><div class="book-menu"><button class="book-menu-trigger" title="Ajouter à ma bibliothèque"> </button> <!></div> <!></div></div></div> <div class="right-section"><div class="book-info svelte-aivf5b"><h1 class="book-title svelte-aivf5b"> </h1> <p class="book-author svelte-aivf5b">de <strong> </strong></p> <!> <!> <div class="book-summary svelte-aivf5b"><h2 class="svelte-aivf5b">Résumé</h2> <p class="svelte-aivf5b"> </p></div></div></div></div></main>');function vo(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(Ve,"$userStore",r);let s=He(t,"book",12),o=j(!1),l=j(!1),u="";function c($){s({...s(),_status:$==="read"?"Lu":"À lire"})}async function f($){try{u="";const B=i();if(!(B!=null&&B.id)){window.location.hash="#/login";return}if(!localStorage.getItem("token")){window.location.hash="#/login";return}const se=$==="read"?1:2;z(l,!0),await Ja(B.id,{title:s().title,status_id:se}),c($),z(o,!1)}catch(B){console.error("[BookDetail] setStatus error:",B),u=(B==null?void 0:B.message)||"Impossible d’ajouter ce livre.",alert(u)}finally{z(l,!1)}}Ae();var d=fo(),b=m(d),g=m(b),v=m(g),h=m(v),w=m(h),x=m(w),S=m(x),C=_(x,2);{var k=$=>{var B=ao(),ee=m(B),se=m(ee),le=_(ee,2),ue=m(le);G(()=>{se.disabled=a(l),ue.disabled=a(l)}),I("click",se,()=>f("to_read")),I("click",ue,()=>f("read")),P($,B)};U(C,$=>{a(o)&&$(k)})}var A=_(w,2);{var y=$=>{var B=oo();P($,B)};U(A,$=>{fe(s()),q(()=>{var B;return!((B=s())!=null&&B.image)})&&$(y)})}var p=_(g,2),E=m(p),T=m(E),N=m(T),D=_(T,2),F=_(m(D)),L=m(F),O=_(D,2);{var ne=$=>{var B=uo(),ee=_(m(B),2);dt(ee,1,()=>(fe(s()),q(()=>s().genres)),kn,(se,le)=>{var ue=lo(),ie=m(ue);G(()=>Q(ie,(a(le),q(()=>a(le).label)))),P(se,ue)}),P($,B)};U(O,$=>{fe(s()),q(()=>{var B,ee;return(ee=(B=s())==null?void 0:B.genres)==null?void 0:ee.length})&&$(ne)})}var oe=_(O,2);{var V=$=>{var B=co(),ee=_(m(B));G(()=>Q(ee,` ${fe(s()),q(()=>s().publication_date)??""}`)),P($,B)};U(oe,$=>{fe(s()),q(()=>{var B;return(B=s())==null?void 0:B.publication_date})&&$(V)})}var M=_(oe,2),re=_(m(M),2),J=m(re);G(()=>{ya(h,(fe(s()),q(()=>{var $;return($=s())!=null&&$.image?`background-image:url(${s().image});background-size:cover;background-position:center;`:""}))),x.disabled=a(l),Q(S,a(l)?"…":"+"),Q(N,(fe(s()),q(()=>{var $;return(($=s())==null?void 0:$.title)||"Titre inconnu"}))),Q(L,(fe(s()),q(()=>{var $;return(($=s())==null?void 0:$.author)||"Auteur inconnu"}))),Q(J,(fe(s()),q(()=>{var $;return(($=s())==null?void 0:$.summary)||"Aucun résumé disponible"})))}),I("click",x,()=>z(o,!a(o))),P(e,d),Ee(),n()}var po=R('<p style="padding:1rem">Chargement…</p>'),mo=R('<p style="padding:1rem; color:red"> </p>');function _o(e,t){ke(t,!1);let r=He(t,"params",8),n=j(null),i=j(!0),s=j("");tt(async()=>{try{z(n,await Ga(r().id))}catch(f){z(s,(f==null?void 0:f.message)??"Erreur de chargement")}finally{z(i,!1)}}),Ae();var o=de(),l=ae(o);{var u=f=>{var d=po();P(f,d)},c=f=>{var d=de(),b=ae(d);{var g=h=>{var w=mo(),x=m(w);G(()=>Q(x,a(s))),P(h,w)},v=h=>{vo(h,{get book(){return a(n)}})};U(b,h=>{a(s)?h(g):h(v,!1)},!0)}P(f,d)};U(l,f=>{a(i)?f(u):f(c,!1)})}P(e,o),Ee()}var ho=R(`<main><h1 class="contact-title">Contactez-nous</h1> <div class="contact-container"><div class="contact-grid"><div class="contact-info"><h2>Nos coordonnées</h2> <div class="info-item"><h3>📍 Adresse</h3> <p>Blabla-book SARL<br/> XXX Rue des Livres<br/> 75000 Paris, France</p></div> <div class="info-item"><h3>📞 Téléphone</h3> <p><a href="tel:+33123456789" class="contact-link">+33 1 XX XX XX XX</a></p></div> <div class="info-item"><h3>✉️ Email</h3> <p><a href="XXX" class="contact-link">XXX@blabla-book.fr</a></p></div> <div class="info-item"><h3>🕒 Horaires d'ouverture</h3> <p>Lundi - Vendredi : 9h00 - 9h02<br/> Samedi : 9H00 - 9H01<br/> Dimanche : Fermé</p></div></div> <div class="contact-form"><h2>Envoyez-nous un message</h2> <form class="form-container"><div class="form-group"><label for="name">Nom complet *</label> <input type="text" id="name" name="name" required/></div> <div class="form-group"><label for="email">Email *</label> <input type="email" id="email" name="email" required/></div> <div class="form-group"><label for="subject">Sujet *</label> <select id="subject" name="subject" required><option>Choisissez un sujet</option><option>Question générale</option><option>Signaler un bug</option><option>Suggestion d'amélioration</option><option>Proposition de partenariat</option><option>Autre</option></select></div> <div class="form-group"><label for="message">Message *</label> <textarea id="message" name="message" rows="5" required placeholder="Décrivez votre demande..."></textarea></div> <button type="submit" class="submit-btn">Envoyer le message</button></form></div></div></div> <div class="return-home"><a href="#/" class="submit-btn">Retour à l'accueil</a></div></main>`);function go(e){var t=ho(),r=_(m(t),2),n=m(r),i=_(m(n),2),s=_(m(i),2),o=_(m(s),4),l=_(m(o),2),u=m(l);u.value=u.__value="";var c=_(u);c.value=c.__value="question";var f=_(c);f.value=f.__value="bug";var d=_(f);d.value=d.__value="suggestion";var b=_(d);b.value=b.__value="partenariat";var g=_(b);g.value=g.__value="autre",P(e,t)}function bo(e){go(e)}var yo=R(`<main><div class="login-container"><div class="form-section"><form><h2>Oups... on dirait que ton livre n'est pas chez nous... Veux-tu le rajouter à notre collection ?</h2> <div class="form-group"><input type="text" id="title" placeholder="Titre :" required/></div> <div class="form-group"><input type="text" id="author" placeholder="Auteur :" required/></div> <div class="form-group"><input type="text" id="genre" placeholder="Genre :"/></div> <div class="form-group"><input type="file" id="img-book" accept="image/*" required style="display: none;"/> <label for="img-book" class="file-input-label"><span class="file-input-text">Première de couverture : Choisir un fichier</span></label></div> <div class="form-group"><input type="text" id="publication_date" placeholder="date de publication :" required/> <div class="form-group form-group-summary"><textarea id="summary" placeholder="Résumé" rows="5" required></textarea></div></div> <button type="submit" class="submit-btn">Continuer</button></form></div></div></main>`);function wo(e){var t=yo();P(e,t)}function ko(e){wo(e)}var Eo=R('<a class="book svelte-wi2gac"><img/> <p> </p></a>'),xo=R('<a class="book svelte-wi2gac"><img/> <p> </p></a>'),So=R('<section class="banner">Bienvenue sur Blabla-book, votre bibliothèque en ligne<br/> pour découvrir et gérer vos livres préférés.</section> <main><section class="library-section"><div class="section-header"><h2>Séléction du jour :</h2> <a href="#/Collections" class="voir-tout">voir tout</a></div> <div class="carousel-container"><button class="carousel-btn carousel-prev">‹</button> <div id="featured" class="book-row svelte-wi2gac"></div> <button class="carousel-btn carousel-next">›</button></div></section> <section class="library-section"><div class="section-header"><h2>Derniers ajouts :</h2></div> <div class="carousel-container"><div id="latest" class="book-row svelte-wi2gac"></div></div></section></main>',1);function zo(e,t){ke(t,!1);const r=j();let n=He(t,"books",24,()=>[]);const i=new Date().toISOString().slice(0,10);let s=j([]);function o(x,S){const C=document.getElementById(x);C&&C.scrollBy({left:S*200,behavior:"smooth"})}tt(()=>{const x=document.getElementById("featured"),S=document.getElementById("latest"),C=setInterval(()=>{x&&(x.scrollLeft+x.clientWidth>=x.scrollWidth?x.scrollTo({left:0,behavior:"smooth"}):x.scrollBy({left:200,behavior:"smooth"}))},3e3),k=setInterval(()=>{S&&(S.scrollLeft+S.clientWidth>=S.scrollWidth?S.scrollTo({left:0,behavior:"smooth"}):S.scrollBy({left:200,behavior:"smooth"}))},3500);return()=>{clearInterval(C),clearInterval(k)}}),ze(()=>(a(s),fe(n())),()=>{const x=JSON.parse(localStorage.getItem("featuredBooks")||"{}");if(x.date===i)z(s,x.books.map(S=>n().find(C=>C.id===S)).filter(Boolean));else{const S=n().slice(),C=[];for(let k=0;k<12&&S.length>0;k++){const A=Math.floor(Math.random()*S.length);C.push(S.splice(A,1)[0])}z(s,C),localStorage.setItem("featuredBooks",JSON.stringify({date:i,books:a(s).map(k=>k.id)}))}}),ze(()=>fe(n()),()=>{z(r,n().filter(x=>{var S;return(S=x.tags)==null?void 0:S.includes("new")}).sort((x,S)=>new Date(S.created_at).getTime()-new Date(x.created_at).getTime()))}),ze(()=>(a(r),fe(n())),()=>{a(r).length||z(r,n().slice().sort((x,S)=>new Date(S.created_at).getTime()-new Date(x.created_at).getTime()).slice(0,6))}),Ct(),Ae();var l=So(),u=_(ae(l),2),c=m(u),f=_(m(c),2),d=m(f),b=_(d,2);dt(b,5,()=>a(s),x=>x.id,(x,S)=>{var C=Eo(),k=m(C),A=_(k,2),y=m(A);G(()=>{_e(C,"href",(a(S),q(()=>`#/BookDetail/${a(S).id}`))),_e(k,"src",(a(S),q(()=>a(S).image))),_e(k,"alt",(a(S),q(()=>a(S).title))),Q(y,(a(S),q(()=>a(S).title)))}),P(x,C)});var g=_(b,2),v=_(c,2),h=_(m(v),2),w=m(h);dt(w,5,()=>a(r),x=>x.id,(x,S)=>{var C=xo(),k=m(C),A=_(k,2),y=m(A);G(()=>{_e(C,"href",(a(S),q(()=>`#/BookDetail/${a(S).id}`))),_e(k,"src",(a(S),q(()=>a(S).image))),_e(k,"alt",(a(S),q(()=>a(S).title))),Q(y,(a(S),q(()=>a(S).title)))}),P(x,C)}),I("click",d,()=>o("featured",-1)),I("click",g,()=>o("featured",1)),P(e,l),Ee()}var Ao=R('<p style="padding:1rem">Chargement…</p>'),Co=R('<p style="padding:1rem;color:#c00"> </p>');function Po(e,t){ke(t,!1);let r=j([]),n=j(!0),i=j("");tt(async()=>{try{z(r,await Ui())}catch(c){z(i,(c==null?void 0:c.message)??"Erreur de chargement")}finally{z(n,!1)}}),Ae();var s=de(),o=ae(s);{var l=c=>{var f=Ao();P(c,f)},u=c=>{var f=de(),d=ae(f);{var b=v=>{var h=Co(),w=m(h);G(()=>Q(w,a(i))),P(v,h)},g=v=>{zo(v,{get books(){return a(r)}})};U(d,v=>{a(i)?v(b):v(g,!1)},!0)}P(c,f)};U(o,c=>{a(n)?c(l):c(u,!1)})}P(e,s),Ee()}var To=R(`<main><h1 class="legal-title">Mentions Légales</h1> <div class="legal-container"><section class="legal-section"><h2>1. Informations légales</h2> <h3>1.1 Éditeur du site</h3> <p><strong>Nom :</strong> Blabla-book SARL<br/> <strong>Adresse :</strong> XXX Rue des Livres, 75000 Paris, France<br/> <strong>Téléphone :</strong> +33 1 XX XX XX XX<br/> <strong>Email :</strong> <a href="XXX" class="legal-link">XXX@blabla-book.fr</a><br/> <strong>SIRET :</strong> 123 456 789 00010<br/> <strong>Capital social :</strong> 10 000 000 000 000 000 000€<br/> <strong>RCS :</strong> Paris B 123 456 789</p> <h3>1.2 Directeur de la publication</h3> <p><strong>Nom :</strong> Jean Dupont<br/> <strong>Qualité :</strong> Gérant</p> <h3>1.3 Hébergement</h3> <p><strong>Nom de l'hébergeur :</strong> YENA PAS <br/> <strong>Adresse :</strong> X rue Kellermann, 59100 Roubaix, France<br/> <strong>Téléphone :</strong> 09 XX XX XX XX</p></section> <section class="legal-section"><h2>2. Objet du site</h2> <p>Blabla-book est une plateforme en ligne dédiée aux amoureux de la lecture. Notre site permet aux utilisateurs de :</p> <ul><li>Découvrir de nouveaux livres et auteurs</li> <li>Gérer leur bibliothèque personnelle</li> <li>Partager leurs avis et recommandations</li> <li>Suivre leurs lectures en cours et terminées</li> <li>Participer à une communauté de lecteurs passionnés</li></ul></section> <section class="legal-section"><h2>3. Conditions d'accès</h2> <p>L'accès au site Blabla-book est gratuit et ouvert à tous. Certaines fonctionnalités nécessitent la création d'un compte utilisateur. L'utilisateur s'engage à :</p> <ul><li>Fournir des informations exactes lors de son inscription</li> <li>Maintenir la confidentialité de ses identifiants de connexion</li> <li>Respecter les autres utilisateurs et la communauté</li> <li>Ne pas utiliser le site à des fins commerciales non autorisées</li> <li>Respecter les droits de propriété intellectuelle</li></ul></section> <section class="legal-section"><h2>4. Propriété intellectuelle</h2> <p>Le contenu du site Blabla-book (textes, images, graphismes, logo, icônes, sons, logiciels) est protégé par les droits de propriété intellectuelle. Toute reproduction, représentation, modification, publication, adaptation de tout ou partie des éléments du site, quel que soit le moyen ou le procédé utilisé, est interdite, sauf autorisation écrite préalable.</p> <h3>4.1 Contenu utilisateur</h3> <p>Les utilisateurs conservent leurs droits sur le contenu qu'ils publient (avis, commentaires, listes de lecture). En publiant du contenu sur Blabla-book, les utilisateurs accordent une licence non exclusive pour utiliser, reproduire et diffuser ce contenu dans le cadre du fonctionnement du service.</p> <h3>4.2 Images et couvertures de livres</h3> <p>Les images et couvertures de livres présentes sur le site sont utilisées à des fins d'illustration et d'information. Elles appartiennent à leurs éditeurs respectifs et sont utilisées dans le cadre du droit de courte citation.</p></section> <section class="legal-section"><h2>5. Responsabilité</h2> <p>Blabla-book s'efforce de fournir des informations exactes et à jour, mais ne peut garantir l'exactitude, la précision ou l'exhaustivité des informations mises à disposition. L'utilisation du site se fait sous la responsabilité exclusive de l'utilisateur.</p></section> <section class="legal-section"><h2>6. Protection des données personnelles</h2> <p>La collecte et le traitement des données personnelles sont régis par notre <a href="politique-confidentialite.html" class="legal-link">Politique de Confidentialité</a>, conforme au Règlement Général sur la Protection des Données (RGPD).</p></section> <section class="legal-section"><h2>7. Cookies</h2> <p>Le site utilise des cookies pour améliorer l'expérience utilisateur et analyser le trafic. L'utilisateur peut configurer son navigateur pour refuser les cookies, mais certaines fonctionnalités du site peuvent être limitées.</p></section> <section class="legal-section"><h2>8. Droit applicable et juridiction</h2> <p>Les présentes mentions légales sont soumises au droit français. En cas de litige, les tribunaux français seront seuls compétents.</p></section> <section class="legal-section"><h2>9. Médiation</h2> <p>Conformément aux dispositions du Code de la consommation concernant le règlement amiable des litiges, Blabla-book adhère au Service du Médiateur du e-commerce de la FEVAD (Fédération du e-commerce et de la vente à distance) dont les coordonnées sont les suivantes :</p> <p><strong>Médiateur :</strong> FEVAD<br/> <strong>Site web :</strong> <a href="http://www.mediateurfevad.fr" class="legal-link">www.mediateurfevad.fr</a></p></section> <section class="legal-section"><h2>10. Contact</h2> <p>Pour toute question relative aux mentions légales ou au fonctionnement du site, vous pouvez nous contacter :</p> <p><strong>Email :</strong> <a href="XXX" class="legal-link">legal@blabla-book.fr</a><br/> <strong>Téléphone :</strong> +33 1 XX XX XX XX<br/> <strong>Adresse :</strong> Blabla-book SARL, XX Rue des Livres, 75000 Paris, France</p></section> <p class="legal-update">Dernière mise à jour : 1er septembre 2025</p></div> <div class="return-home"><a href="#/" class="submit-btn">Retour à l'accueil</a></div></main>`);function Ro(e){var t=To();P(e,t)}function $o(e){Ro(e)}var qo=R("<p>Aucun livre à lire pour le moment.</p>"),jo=R('<img class="svelte-kfmjz5"/>'),No=R('<div class="no-cover svelte-kfmjz5">Sans couverture</div>'),Lo=R('<a class="book svelte-kfmjz5"><!> <p class="book-title svelte-kfmjz5"> </p></a>'),Io=R('<div class="carousel-container svelte-kfmjz5"><button class="carousel-btn carousel-prev svelte-kfmjz5">‹</button> <div class="book-row svelte-kfmjz5" id="toRead"></div> <button class="carousel-btn carousel-next svelte-kfmjz5">›</button></div>'),Do=R("<p>Pas encore de livres lus.</p>"),Bo=R('<img class="svelte-kfmjz5"/>'),Oo=R('<div class="no-cover svelte-kfmjz5">Sans couverture</div>'),Mo=R('<a class="book svelte-kfmjz5"><!> <p class="book-title svelte-kfmjz5"> </p></a>'),Xo=R('<div class="carousel-container svelte-kfmjz5"><button class="carousel-btn carousel-prev svelte-kfmjz5">‹</button> <div class="book-row svelte-kfmjz5" id="read"></div> <button class="carousel-btn carousel-next svelte-kfmjz5">›</button></div>'),Fo=R('<main class="library-page svelte-kfmjz5"><section class="library-section svelte-kfmjz5"><div class="section-header svelte-kfmjz5"><h2 class="svelte-kfmjz5">Mes livres à lire :</h2> <a href="#/My-library" class="view-all-link svelte-kfmjz5">voir tout</a></div> <!></section> <section class="library-section svelte-kfmjz5"><div class="section-header svelte-kfmjz5"><h2 class="svelte-kfmjz5">Mes livres lus :</h2> <a href="#/My-library" class="view-all-link svelte-kfmjz5">voir tout</a></div> <!></section></main>');function Uo(e,t){ke(t,!1);let r=He(t,"toRead",28,()=>[]),n=He(t,"read",28,()=>[]);Array.isArray(r())||r([]),Array.isArray(n())||n([]);function i(v,h){const w=document.getElementById(v);w&&w.scrollBy({left:200*h,behavior:"smooth"})}Ae();var s=Fo(),o=m(s),l=_(m(o),2);{var u=v=>{var h=qo();P(v,h)},c=v=>{var h=Io(),w=m(h),x=_(w,2);dt(x,5,r,C=>C.id,(C,k)=>{var A=Lo(),y=m(A);{var p=D=>{var F=jo();G(()=>{_e(F,"src",(a(k),q(()=>a(k).image))),_e(F,"alt",(a(k),q(()=>a(k).title)))}),P(D,F)},E=D=>{var F=No();P(D,F)};U(y,D=>{a(k),q(()=>a(k).image)?D(p):D(E,!1)})}var T=_(y,2),N=m(T);G(()=>{_e(A,"href",(a(k),q(()=>`#/BookDetail/${a(k).id}`))),Q(N,(a(k),q(()=>a(k).title)))}),P(C,A)});var S=_(x,2);I("click",w,()=>i("toRead",-1)),I("click",S,()=>i("toRead",1)),P(v,h)};U(l,v=>{fe(r()),q(()=>r().length===0)?v(u):v(c,!1)})}var f=_(o,2),d=_(m(f),2);{var b=v=>{var h=Do();P(v,h)},g=v=>{var h=Xo(),w=m(h),x=_(w,2);dt(x,5,n,C=>C.id,(C,k)=>{var A=Mo(),y=m(A);{var p=D=>{var F=Bo();G(()=>{_e(F,"src",(a(k),q(()=>a(k).image))),_e(F,"alt",(a(k),q(()=>a(k).title)))}),P(D,F)},E=D=>{var F=Oo();P(D,F)};U(y,D=>{a(k),q(()=>a(k).image)?D(p):D(E,!1)})}var T=_(y,2),N=m(T);G(()=>{_e(A,"href",(a(k),q(()=>`#/BookDetail/${a(k).id}`))),Q(N,(a(k),q(()=>a(k).title)))}),P(C,A)});var S=_(x,2);I("click",w,()=>i("read",-1)),I("click",S,()=>i("read",1)),P(v,h)};U(d,v=>{fe(n()),q(()=>n().length===0)?v(b):v(g,!1)})}P(e,s),Ee()}var Vo=R('<main class="library-page"><p>Chargement…</p></main>'),Ho=R('<main class="library-page"><p style="color:#c00"> </p></main>');function Yo(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(Ve,"$userStore",r);let s=j([]),o=j([]),l=j(!0),u=j(""),c=j(null);function f(w){return String(w||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g,"_")}async function d(w){z(l,!0),z(u,"");try{if(!localStorage.getItem("token")){z(u,"Utilisateur non connecté");return}const S=await Vi(w.id),C=(Array.isArray(S)?S:[]).map(k=>{var E;const A=typeof k.status=="string"?k.status:((E=k.status)==null?void 0:E.name)||"",y=f(A),p=y==="lu"||y==="read";return{id:k.book_id??k.id,title:k.title,image:k.image||"",isRead:p}});z(s,C.filter(k=>!k.isRead)),z(o,C.filter(k=>k.isRead))}catch(x){z(u,(x==null?void 0:x.message)||"Erreur de chargement")}finally{z(l,!1)}}tt(()=>{if(!localStorage.getItem("token")){z(l,!1),Pe("/login");return}}),ze(()=>(i(),a(c)),()=>{var w;(w=i())!=null&&w.id&&i().id!==a(c)&&(z(c,i().id),d(i()))}),Ct(),Ae();var b=de(),g=ae(b);{var v=w=>{var x=Vo();P(w,x)},h=w=>{var x=de(),S=ae(x);{var C=A=>{var y=Ho(),p=m(y),E=m(p);G(()=>Q(E,a(u))),P(A,y)},k=A=>{Uo(A,{get toRead(){return a(s)},get read(){return a(o)}})};U(S,A=>{a(u)?A(C):A(k,!1)},!0)}P(w,x)};U(g,w=>{a(l)?w(v):w(h,!1)})}P(e,b),Ee(),n()}var Go=R(`<main><h1 class="privacy-title">Politique de Confidentialité</h1> <div class="privacy-container"><p class="privacy-update"><strong>Dernière mise à jour :</strong> 1er septembre 2025</p> <section class="privacy-section"><h2>1. Introduction</h2> <p>Bienvenue sur Blabla-book, votre bibliothèque en ligne dédiée aux amoureux du livre. Nous nous engageons à protéger et respecter votre vie privée. Cette politique de confidentialité explique comment nous collectons, utilisons et protégeons vos informations personnelles.</p></section> <section class="privacy-section"><h2>2. Informations collectées</h2> <h3>2.1 Informations que vous nous fournissez</h3> <ul><li>Nom et prénom lors de la création de votre compte</li> <li>Adresse e-mail pour la connexion et les communications</li> <li>Préférences de lecture et avis sur les livres</li> <li>Informations de votre bibliothèque personnelle</li></ul> <h3>2.2 Informations collectées automatiquement</h3> <ul><li>Données de navigation (pages visitées, temps passé sur le site)</li> <li>Adresse IP et informations sur votre navigateur</li> <li>Cookies et technologies similaires pour améliorer votre expérience</li></ul></section> <section class="privacy-section"><h2>3. Utilisation de vos informations</h2> <p>Nous utilisons vos informations pour :</p> <ul><li>Gérer votre compte et votre bibliothèque personnelle</li> <li>Personnaliser vos recommandations de lecture</li> <li>Améliorer nos services et votre expérience utilisateur</li> <li>Vous envoyer des notifications importantes concernant votre compte</li> <li>Analyser l'utilisation du site pour des améliorations futures</li></ul></section> <section class="privacy-section"><h2>4. Partage de vos informations</h2> <p>Nous ne vendons, n'échangeons ni ne louons vos informations personnelles à des tiers. Nous pouvons partager vos informations uniquement dans les cas suivants :</p> <ul><li>Avec votre consentement explicite</li> <li>Pour respecter nos obligations légales</li> <li>Pour protéger nos droits, notre propriété ou notre sécurité</li> <li>Avec des prestataires de services qui nous aident à faire fonctionner le site</li></ul></section> <section class="privacy-section"><h2>5. Sécurité de vos données</h2> <p>Nous mettons en place des mesures de sécurité appropriées pour protéger vos informations personnelles contre l'accès non autorisé, la modification, la divulgation ou la destruction. Cependant, aucune transmission sur Internet n'est 100% sécurisée.</p></section> <section class="privacy-section"><h2>6. Vos droits</h2> <p>Conformément au RGPD, vous disposez des droits suivants :</p> <ul><li>Droit d'accès à vos données personnelles</li> <li>Droit de rectification de vos informations</li> <li>Droit à l'effacement de vos données</li> <li>Droit à la limitation du traitement</li> <li>Droit à la portabilité de vos données</li> <li>Droit d'opposition au traitement</li></ul></section> <section class="privacy-section"><h2>7. Cookies</h2> <p>Nous utilisons des cookies pour améliorer votre expérience sur notre site. Vous pouvez contrôler l'utilisation des cookies via les paramètres de votre navigateur.</p></section> <section class="privacy-section"><h2>8. Conservation des données</h2> <p>Nous conservons vos informations personnelles aussi longtemps que nécessaire pour fournir nos services et respecter nos obligations légales. Vous pouvez demander la suppression de votre compte à tout moment.</p></section> <section class="privacy-section"><h2>9. Modifications de cette politique</h2> <p>Nous pouvons mettre à jour cette politique de confidentialité de temps en temps. Toute modification sera publiée sur cette page avec une date de mise à jour révisée.</p></section> <section class="privacy-section"><h2>10. Contact</h2> <p>Si vous avez des questions concernant cette politique de confidentialité ou vos données personnelles, vous pouvez nous contacter à :</p> <p><strong>Email :</strong> XXXXXX@blabla-book.fr<br/> <strong>Adresse :</strong> Blabla-book, XXX Rue des Livres, 75000 Paris, France</p></section></div> <div class="return-home"><a href="#/" class="submit-btn">Retour à l'accueil</a></div></main>`);function Wo(e){var t=Go();P(e,t)}function Jo(e){Wo(e)}var Ko=R('<main class="profile-page"><p>Chargement…</p></main>'),Qo=R('<main class="profile-page"><p style="color:#c00"> </p></main>'),Zo=R('<main class="profile-page"><div class="profile-container"><div class="profile-left"><div class="profile-bio-section"><div class="bio-section"></div> <div class="stats-container svelte-11vsmtt"><div class="stat-item svelte-11vsmtt"><div class="stat-number svelte-11vsmtt"> </div> <div class="stat-label svelte-11vsmtt">Livres lus</div></div> <div class="stat-item svelte-11vsmtt"><div class="stat-number svelte-11vsmtt"> </div> <div class="stat-label svelte-11vsmtt">À lire</div></div> <div class="stat-item svelte-11vsmtt"><div class="stat-number svelte-11vsmtt"> </div> <div class="stat-label svelte-11vsmtt">Total</div></div></div></div> <div class="activity-section"><h3>Activité récente</h3> <div class="activity-item" style="opacity:.7">Bientôt disponible</div></div></div> <div class="profile-right"><div class="personal-info-section"><h2>Informations personnelles</h2> <div class="info-field"><input type="email" placeholder="Adresse mail" disabled/> <button class="edit-btn" disabled>✏️</button></div> <div class="info-field"><input type="text" placeholder="Pseudo" disabled/> <button class="edit-btn" disabled>✏️</button></div> <div class="action-buttons"><button class="logout-btn">Se déconnecter</button></div></div></div></div></main>');function el(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(Ve,"$userStore",r);let s=j({email:"",username:""}),o=j(!0),l=j(""),u=j(!1),c=j(0),f=j(0),d=j(0);async function b(C){var k;z(u,!0);try{const A=await Vi(C),y=Array.isArray(A)?A:[];let p=0,E=0;for(const T of y){const D=(typeof T.status=="string"?T.status:((k=T.status)==null?void 0:k.name)||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").trim();D==="lu"||D==="read"?p++:(D==="a_lire"||D==="a lire"||D==="to_read"||D==="to read")&&E++}z(c,p),z(f,E),z(d,y.length)}catch(A){console.error("[profil] loadStats failed:",A)}finally{z(u,!1)}}function g(){localStorage.removeItem("token"),Ve.set(null),window.location.hash="#/login"}async function v(){alert("Sauvegarde à venir (PATCH /api/me).")}ze(()=>i(),()=>{i()===void 0?(z(o,!0),z(l,"")):i()===null?(z(o,!1),z(l,"Utilisateur non connecté")):(z(o,!1),z(l,""),be(s,a(s).email=i().email??""),be(s,a(s).username=i().username??""))}),ze(()=>i(),()=>{var C;(C=i())!=null&&C.id&&b(i().id)}),Ct(),Ae();var h=de(),w=ae(h);{var x=C=>{var k=Ko();P(C,k)},S=C=>{var k=de(),A=ae(k);{var y=E=>{var T=Qo(),N=m(T),D=m(N);G(()=>Q(D,a(l))),P(E,T)},p=E=>{var T=Zo(),N=m(T),D=m(N),F=m(D),L=_(m(F),2),O=m(L),ne=m(O),oe=m(ne),V=_(O,2),M=m(V),re=m(M),J=_(V,2),$=m(J),B=m($),ee=_(D,2),se=m(ee),le=_(m(se),2),ue=m(le),ie=_(ue,2),he=_(le,2),X=m(he),te=_(X,2),pe=_(he,2),Ie=m(pe);G(()=>{Q(oe,a(u)?"…":a(c)),Q(re,a(u)?"…":a(f)),Q(B,a(u)?"…":a(d))}),Re(ue,()=>a(s).email,Me=>be(s,a(s).email=Me)),I("click",ie,Qe(v)),Re(X,()=>a(s).username,Me=>be(s,a(s).username=Me)),I("click",te,Qe(v)),I("click",Ie,g),P(E,T)};U(A,E=>{a(l)?E(y):E(p,!1)},!0)}P(C,k)};U(w,C=>{a(o)?C(x):C(S,!1)})}P(e,h),Ee(),n()}function tl(e){el(e,{})}var rl=R('<p class="error"> </p>'),nl=R('<p class="success">Inscription réussie !</p>'),il=R(`<main><div class="login-container"><div class="form-section"><form><h2>Créer un compte</h2> <div class="form-group"><input type="text" id="pseudo" placeholder="Pseudo :" required/></div> <div class="form-group"><input type="email" id="email" placeholder="Email :" required/></div> <div class="form-group"><input type="password" id="password" placeholder="Mot de passe :" required/></div> <div class="form-group checkbox-group"><label class="checkbox-label"><input type="checkbox" id="accept-terms" required/> <span class="checkmark"></span> j'accepte les <a href="#/Mentions" target="_blank">conditions d'utilisations</a> et la <a href="#/Politic" target="_blank">politique de confidentialité</a></label></div> <!> <!> <button type="submit" class="submit-btn">Continuer</button></form></div></div></main>`);function sl(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(l,"$error",r),s=()=>Be(u,"$success",r);let o=j({username:"",email:"",password:""}),l=ft(null),u=ft(!1);const c=async E=>{E.preventDefault(),l.set(null),u.set(!1);try{const T=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a(o))});if(T.ok)u.set(!0),z(o,{username:"",email:"",password:""});else{const N=await T.json().catch(()=>({}));l.set(N.error||N.message||"Une erreur est survenue.")}}catch{l.set("Erreur réseau. Veuillez réessayer.")}};Ae();var f=il(),d=m(f),b=m(d),g=m(b),v=_(m(g),2),h=m(v),w=_(v,2),x=m(w),S=_(w,2),C=m(S),k=_(S,4);{var A=E=>{var T=rl(),N=m(T);G(()=>Q(N,i())),P(E,T)};U(k,E=>{i()&&E(A)})}var y=_(k,2);{var p=E=>{var T=nl();P(E,T)};U(y,E=>{s()&&E(p)})}Re(h,()=>a(o).username,E=>be(o,a(o).username=E)),Re(x,()=>a(o).email,E=>be(o,a(o).email=E)),Re(C,()=>a(o).password,E=>be(o,a(o).password=E)),I("submit",g,Qe(c)),P(e,f),Ee(),n()}function al(e){sl(e,{})}var ol=R(`<main class="svelte-8979o4"><h1 class="about-title svelte-8979o4">À propos de Blabla-book</h1> <div class="about-container svelte-8979o4"><div class="about-mission svelte-8979o4"><h2 class="svelte-8979o4">Notre Mission</h2> <p class="mission-quote svelte-8979o4">"Rassembler les amoureux du livre dans une communauté bienveillante et passionnée"</p></div> <div class="about-section svelte-8979o4"><h2 class="svelte-8979o4">Qui sommes-nous ?</h2> <p>Blabla-book est née de la passion commune de quelques amis bibliophiles qui souhaitaient créer un espace dédié aux amoureux de la lecture. Notre plateforme permet à chacun de gérer sa bibliothèque personnelle, de découvrir de nouveaux ouvrages et de partager ses coups de cœur littéraires.</p> <p>Nous croyons que la lecture est un voyage personnel mais que le partage d'expériences littéraires enrichit chaque lecteur. C'est pourquoi nous avons conçu Blabla-book comme un lieu d'échange et de découverte.</p></div> <div class="about-section svelte-8979o4"><h2 class="svelte-8979o4">Nos Valeurs</h2> <div class="values-grid svelte-8979o4"><div class="value-card svelte-8979o4"><h3 class="svelte-8979o4">📚 Passion</h3> <p>Nous partageons un amour sincère pour les livres et la lecture sous toutes ses formes.</p></div> <div class="value-card svelte-8979o4"><h3 class="svelte-8979o4">🤝 Communauté</h3> <p>Nous favorisons les échanges respectueux et enrichissants entre lecteurs.</p></div> <div class="value-card svelte-8979o4"><h3 class="svelte-8979o4">🆓 Accessibilité</h3> <p>Notre service est gratuit et accessible à tous les amoureux de la lecture.</p></div> <div class="value-card svelte-8979o4"><h3 class="svelte-8979o4">🔒 Respect</h3> <p>Nous protégeons vos données et respectons votre vie privée.</p></div></div></div> <div class="about-section svelte-8979o4"><h2 class="svelte-8979o4">Nos Fonctionnalités</h2> <div class="features-grid svelte-8979o4"><div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">📖 Bibliothèque personnelle</h3> <p>Organisez vos livres lus, en cours et à lire dans votre espace personnel.</p></div> <div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">🔍 Recherche avancée</h3> <p>Trouvez facilement des livres par titre, auteur, genre ou mot-clé.</p></div> <div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">⭐ Avis et notes</h3> <p>Partagez vos impressions et découvrez les avis de la communauté.</p></div> <div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">💡 Recommandations</h3> <p>Recevez des suggestions personnalisées basées sur vos goûts.</p></div> <div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">📱 Interface responsive</h3> <p>Accédez à votre bibliothèque depuis n'importe quel appareil.</p></div> <div class="feature-item svelte-8979o4"><h3 class="svelte-8979o4">🎯 Suivi de lecture</h3> <p>Suivez vos progrès et vos statistiques de lecture personnelles.</p></div></div></div> <div class="about-section svelte-8979o4"><h2 class="svelte-8979o4">Notre Histoire</h2> <div class="history-timeline svelte-8979o4"><div class="timeline-item svelte-8979o4"><h3 class="svelte-8979o4">2024 - L'idée</h3> <p>Tout a commencé autour d'un café entre amis passionnés de lecture. Nous rêvions d'un espace numérique qui allierait gestion personnelle et partage communautaire.</p></div> <div class="timeline-item svelte-8979o4"><h3 class="svelte-8979o4">2025 - Le développement</h3> <p>Après des mois de développement et de tests, Blabla-book voit le jour avec ses premières fonctionnalités essentielles.</p></div> <div class="timeline-item svelte-8979o4"><h3 class="svelte-8979o4">Aujourd'hui - L'aventure continue</h3> <p>Nous continuons d'améliorer la plateforme en écoutant les retours de notre communauté grandissante de lecteurs passionnés.</p></div></div></div> <div class="about-cta svelte-8979o4"><h2 class="svelte-8979o4">Rejoignez l'aventure !</h2> <p>Que vous soyez un lecteur occasionnel ou un dévoreur de livres, Blabla-book est fait pour vous.</p> <div class="cta-buttons svelte-8979o4"><a href="register.html" class="submit-btn svelte-8979o4">Créer un compte</a> <a href="contact.html" class="submit-btn svelte-8979o4">Nous contacter</a></div></div></div> <div class="return-home svelte-8979o4"><a href="index.html" class="submit-btn svelte-8979o4">Retour à l'accueil</a></div></main>`);function ll(e){var t=ol();P(e,t)}function ul(e){ll(e)}var cl=R('<div class="book" data-category="classique"><a><img/> <p><strong> </strong></p></a></div>'),fl=R("<button></button>"),vl=R('<div class="pagination svelte-1u18ana"><button class="svelte-1u18ana">← Précédent</button> <!> <button class="svelte-1u18ana">Suivant →</button></div>'),dl=R('<main><section class="library-section svelte-1u18ana"><div class="collections-container"><div class="collections-header"><h2>Collections de livres</h2></div> <div class="collections-filters"><div class="filter-container"><button data-filter="all">Tous</button> <button data-filter="fantasy">Fantasy</button> <button data-filter="science-fiction">Science-Fiction</button> <button data-filter="jeunesse">Jeunesse</button> <button data-filter="manga">Manga</button> <button data-filter="philosophie">Philosophie</button> <button data-filter="classique">Classique</button> <button data-filter="roman">Roman</button> <button data-filter="epopee">Épopée</button> <button data-filter="horreur">Horreur</button> <button data-filter="policier">Policier</button> <button data-filter="biographie">Biographie</button></div></div> <div class="collections-books"><div class="book-row expanded svelte-1u18ana"></div></div> <!></div></section></main>');function pl(e,t){ke(t,!1);const r=j(),n=j(),i=j(),s=j();let o=He(t,"books",24,()=>[]),l=j("all"),u=j(1);const c=20;function f(V){z(l,V),z(u,1)}function d(V){V<1||V>a(n)||(z(u,V),window.scrollTo({top:0,behavior:"smooth"}))}ze(()=>(a(l),fe(o())),()=>{z(r,a(l)==="all"?o():o().filter(V=>{var M;return(M=V.genres)==null?void 0:M.some(re=>re.label.toLowerCase()===a(l).toLowerCase())}))}),ze(()=>a(r),()=>{z(n,Math.ceil(a(r).length/c))}),ze(()=>(a(r),a(u)),()=>{z(i,a(r).slice((a(u)-1)*c,a(u)*c))}),ze(()=>a(i),()=>{z(s,a(i).filter(V=>{var M;return(M=V.tags)==null?void 0:M.includes("featured")}))}),ze(()=>(a(s),a(i)),()=>{a(s).length||z(s,a(i).slice())}),Ct(),Ae();var b=dl(),g=m(b),v=m(g),h=_(m(v),2),w=m(h),x=m(w),S=_(x,2),C=_(S,2),k=_(C,2),A=_(k,2),y=_(A,2),p=_(y,2),E=_(p,2),T=_(E,2),N=_(T,2),D=_(N,2),F=_(D,2),L=_(h,2),O=m(L);dt(O,5,()=>a(s),V=>V.id,(V,M)=>{var re=cl(),J=m(re),$=m(J),B=_($,2),ee=m(B),se=m(ee);G(()=>{_e(J,"href",(a(M),q(()=>`#/BookDetail/${a(M).id}`))),_e($,"src",(a(M),q(()=>a(M).image))),_e($,"alt",(a(M),q(()=>a(M).title))),Q(se,(a(M),q(()=>a(M).title)))}),P(V,re)});var ne=_(L,2);{var oe=V=>{var M=vl(),re=m(M),J=_(re,2);dt(J,1,()=>(a(n),q(()=>Array(a(n)))),kn,(B,ee,se)=>{var le=fl();let ue;le.textContent=se+1,G(ie=>ue=Se(le,1,"svelte-1u18ana",null,ue,ie),[()=>({active:a(u)===se+1})]),I("click",le,()=>d(se+1)),P(B,le)});var $=_(J,2);G(()=>{re.disabled=a(u)===1,$.disabled=a(u)===a(n)}),I("click",re,()=>d(a(u)-1)),I("click",$,()=>d(a(u)+1)),P(V,M)};U(ne,V=>{a(n)>1&&V(oe)})}G(()=>{Se(x,1,`filter-btn ${a(l)==="all"?"active":""}`),Se(S,1,`filter-btn ${a(l)==="fantasy"?"active":""}`),Se(C,1,`filter-btn ${a(l)==="science-fiction"?"active":""}`),Se(k,1,`filter-btn ${a(l)==="jeunesse"?"active":""}`),Se(A,1,`filter-btn ${a(l)==="manga"?"active":""}`),Se(y,1,`filter-btn ${a(l)==="philosophie"?"active":""}`),Se(p,1,`filter-btn ${a(l)==="classique"?"active":""}`),Se(E,1,`filter-btn ${a(l)==="roman"?"active":""}`),Se(T,1,`filter-btn ${a(l)==="epopee"?"active":""}`),Se(N,1,`filter-btn ${a(l)==="horreur"?"active":""}`),Se(D,1,`filter-btn ${a(l)==="policier"?"active":""}`),Se(F,1,`filter-btn ${a(l)==="biographie"?"active":""}`)}),I("click",x,()=>f("all")),I("click",S,()=>f("fantasy")),I("click",C,()=>f("science-fiction")),I("click",k,()=>f("jeunesse")),I("click",A,()=>f("manga")),I("click",y,()=>f("philosophie")),I("click",p,()=>f("classique")),I("click",E,()=>f("roman")),I("click",T,()=>f("epopee")),I("click",N,()=>f("horreur")),I("click",D,()=>f("policier")),I("click",F,()=>f("biographie")),P(e,b),Ee()}var ml=R('<p style="padding:1rem">Chargement…</p>'),_l=R('<p style="padding:1rem;color:#c00"> </p>');function hl(e,t){ke(t,!1);let r=j([]),n=j(!0),i=j("");tt(async()=>{try{z(r,await Ui())}catch(c){z(i,(c==null?void 0:c.message)??"Erreur de chargement")}finally{z(n,!1)}}),Ae();var s=de(),o=ae(s);{var l=c=>{var f=ml();P(c,f)},u=c=>{var f=de(),d=ae(f);{var b=v=>{var h=_l(),w=m(h);G(()=>Q(w,a(i))),P(v,h)},g=v=>{pl(v,{get books(){return a(r)}})};U(d,v=>{a(i)?v(b):v(g,!1)},!0)}P(c,f)};U(o,c=>{a(n)?c(l):c(u,!1)})}P(e,s),Ee()}function gl(e,t,r){z(t,!a(t)),a(t)&&r()}function bl(e,t,r){z(t,!1),r()}var yl=R('<p class="query-info svelte-izl0zc">Recherche pour : "<strong> </strong>"</p>'),wl=R('<p class="loading svelte-izl0zc">Recherche en cours...</p>'),kl=R('<p class="error svelte-izl0zc"> </p>'),El=R(`<div class="add-book-suggestion svelte-izl0zc"><p class="suggestion-text svelte-izl0zc">Ce livre n'existe pas encore dans notre base de données.</p> <button class="btn-primary svelte-izl0zc"> </button></div>`),xl=()=>Pe("/login"),Sl=()=>Pe("/register"),zl=R(`<div class="auth-suggestion svelte-izl0zc"><p class="suggestion-text svelte-izl0zc">Ce livre n'existe pas encore dans notre base de données. <br/>Connectez-vous pour l'ajouter !</p> <div class="auth-buttons svelte-izl0zc"><button class="btn-primary svelte-izl0zc">Se connecter</button> <button class="btn-secondary svelte-izl0zc">Créer un compte</button></div></div>`),Al=R(`<div class="add-book-form svelte-izl0zc"><h3 class="svelte-izl0zc">Ajouter un nouveau livre</h3> <form><div class="form-group svelte-izl0zc"><label for="title" class="svelte-izl0zc">Titre *</label> <input type="text" id="title" required class="svelte-izl0zc"/></div> <div class="form-group svelte-izl0zc"><label for="author" class="svelte-izl0zc">Auteur *</label> <input type="text" id="author" required class="svelte-izl0zc"/></div> <div class="form-group svelte-izl0zc"><label for="summary" class="svelte-izl0zc">Résumé *</label> <textarea id="summary" rows="4" required class="svelte-izl0zc"></textarea></div> <div class="form-group svelte-izl0zc"><label for="genre" class="svelte-izl0zc">Genre</label> <select id="genre" class="svelte-izl0zc"><option>Sélectionner un genre</option><option>Biographie</option><option>Classique</option><option>Épopée</option><option>Fantasy</option><option>Horreur</option><option>Jeunesse</option><option>Manga</option><option>Philosophie</option><option>Policier</option><option>Roman</option><option>Science-Fiction</option></select></div> <div class="form-group svelte-izl0zc"><label for="image" class="svelte-izl0zc">URL de l'image de couverture</label> <input type="url" id="image" placeholder="https://exemple.com/couverture.jpg" class="svelte-izl0zc"/></div> <div class="form-actions svelte-izl0zc"><button type="submit" class="btn-primary svelte-izl0zc"><!></button> <button type="button" class="btn-secondary svelte-izl0zc">Annuler</button></div></form></div>`),Cl=R('<div class="no-results-section svelte-izl0zc"><p class="no-results svelte-izl0zc"> </p> <div class="action-section svelte-izl0zc"><!></div> <!></div>'),Pl=(e,t)=>Pe(`/BookDetail/${a(t).id}`),Tl=(e,t)=>e.key==="Enter"&&Pe(`/BookDetail/${a(t).id}`),Rl=R('<p class="author svelte-izl0zc"> </p>'),$l=R('<p class="description svelte-izl0zc"> </p>'),ql=R('<div class="book-card svelte-izl0zc" role="button" tabindex="0"><div class="book-info svelte-izl0zc"><h3 class="svelte-izl0zc"> </h3> <!> <!></div></div>'),jl=R('<div class="books-grid svelte-izl0zc"></div>'),Nl=R('<div class="search-results svelte-izl0zc"><h1>Résultats de recherche</h1> <!> <!></div>');function Ll(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(Ve,"$user",r);let s=j([]),o=j(!0),l=j(""),u=j(""),c=j(!1),f=j(!1),d=j({title:"",author:"",summary:"",image:"",genre:""});const b=()=>new URLSearchParams(window.location.hash.split("?")[1]).get("q")||"",g=(p,E=100)=>(p==null?void 0:p.length)>E?`${p.substring(0,E)}...`:p;async function v(p){if(!p){z(o,!1);return}z(o,!0),z(l,""),z(s,[]),z(c,!1),be(d,a(d).title=p);try{z(s,await Hi(p))}catch(E){z(l,(E==null?void 0:E.message)??"Erreur lors de la recherche")}finally{z(o,!1)}}tt(()=>{z(u,b()),v(a(u))});async function h(){if(!a(f)){if(!a(d).title||!a(d).author||!a(d).summary){alert("Veuillez remplir au moins le titre, l'auteur et le résumé");return}z(f,!0);try{const p={title:a(d).title.trim(),author:a(d).author.trim(),summary:a(d).summary.trim(),image:a(d).image.trim()||null,genre:a(d).genre.trim()||null},E=await Wa(p);w(),z(c,!1),Pe(`/BookDetail/${E.id}`)}catch(p){console.error("Erreur lors de l'ajout du livre:",p),p.message&&p.message.includes("401")?alert("Session expirée. Veuillez vous reconnecter."):p.message&&p.message.includes("400")?alert("Données invalides. Vérifiez les champs obligatoires."):p.message&&p.message.includes("404")?alert("Genre inconnu. Vérifiez l'orthographe du genre."):alert(p.message||"Erreur lors de l'ajout du livre")}finally{z(f,!1)}}}function w(){z(d,{title:a(u),author:"",summary:"",image:"",genre:""})}ze(()=>a(u),()=>{if(typeof window<"u"){const p=b();p!==a(u)&&(z(u,p),v(a(u)))}}),Ct(),Ae();var x=Nl(),S=_(m(x),2);{var C=p=>{var E=yl(),T=_(m(E)),N=m(T);G(()=>Q(N,a(u))),P(p,E)};U(S,p=>{a(u)&&p(C)})}var k=_(S,2);{var A=p=>{var E=wl();P(p,E)},y=p=>{var E=de(),T=ae(E);{var N=F=>{var L=kl(),O=m(L);G(()=>Q(O,a(l))),P(F,L)},D=F=>{var L=de(),O=ae(L);{var ne=V=>{var M=Cl(),re=m(M),J=m(re),$=_(re,2),B=m($);{var ee=ie=>{var he=El(),X=_(m(he),2);X.__click=[gl,c,w];var te=m(X);G(()=>Q(te,`Ajouter "${a(u)??""}" à la base de données`)),P(ie,he)},se=ie=>{var he=zl(),X=_(m(he),2),te=m(X);te.__click=[xl];var pe=_(te,2);pe.__click=[Sl],P(ie,he)};U(B,ie=>{i()?ie(ee):ie(se,!1)})}var le=_($,2);{var ue=ie=>{var he=Al(),X=_(m(he),2),te=m(X),pe=_(m(te),2),Ie=_(te,2),Me=_(m(Ie),2),mt=_(Ie,2),_t=_(m(mt),2),dr=_(mt,2),Yt=_(m(dr),2);G(()=>{a(d),ta(()=>{a(f)})});var Gt=m(Yt);Gt.value=Gt.__value="";var Xe=_(Gt);Xe.value=Xe.__value="Biographie";var We=_(Xe);We.value=We.__value="Classique";var $t=_(We);$t.value=$t.__value="Épopée";var Wt=_($t);Wt.value=Wt.__value="Fantasy";var Ir=_(Wt);Ir.value=Ir.__value="Horreur";var Dr=_(Ir);Dr.value=Dr.__value="Jeunesse";var Br=_(Dr);Br.value=Br.__value="Manga";var Or=_(Br);Or.value=Or.__value="Philosophie";var Mr=_(Or);Mr.value=Mr.__value="Policier";var Xr=_(Mr);Xr.value=Xr.__value="Roman";var Sn=_(Xr);Sn.value=Sn.__value="Science-Fiction";var zn=_(dr,2),An=_(m(zn),2),Yi=_(zn,2),Fr=m(Yi),Gi=m(Fr);{var Wi=me=>{var Ur=Sr("Ajout en cours...");P(me,Ur)},Ji=me=>{var Ur=Sr("Ajouter le livre");P(me,Ur)};U(Gi,me=>{a(f)?me(Wi):me(Ji,!1)})}var Cn=_(Fr,2);Cn.__click=[bl,c,w],G(()=>{pe.disabled=a(f),Me.disabled=a(f),_t.disabled=a(f),Yt.disabled=a(f),An.disabled=a(f),Fr.disabled=a(f),Cn.disabled=a(f)}),I("submit",X,h),Re(pe,()=>a(d).title,me=>be(d,a(d).title=me)),Re(Me,()=>a(d).author,me=>be(d,a(d).author=me)),Re(_t,()=>a(d).summary,me=>be(d,a(d).summary=me)),ka(Yt,()=>a(d).genre,me=>be(d,a(d).genre=me)),Re(An,()=>a(d).image,me=>be(d,a(d).image=me)),P(ie,he)};U(le,ie=>{i()&&a(c)&&ie(ue)})}G(()=>Q(J,`Aucun livre trouvé pour "${a(u)??""}"`)),P(V,M)},oe=V=>{var M=jl();dt(M,5,()=>a(s),kn,(re,J)=>{var $=ql();$.__click=[Pl,J],$.__keydown=[Tl,J];var B=m($),ee=m(B),se=m(ee),le=_(ee,2);{var ue=X=>{var te=Rl(),pe=m(te);G(()=>Q(pe,`Par ${a(J),q(()=>a(J).author)??""}`)),P(X,te)};U(le,X=>{a(J),q(()=>a(J).author)&&X(ue)})}var ie=_(le,2);{var he=X=>{var te=$l(),pe=m(te);G(Ie=>Q(pe,Ie),[()=>(a(J),q(()=>g(a(J).summary)))]),P(X,te)};U(ie,X=>{a(J),q(()=>a(J).summary)&&X(he)})}G(()=>Q(se,(a(J),q(()=>a(J).title)))),P(re,$)}),P(V,M)};U(O,V=>{a(s),q(()=>a(s).length===0)?V(ne):V(oe,!1)},!0)}P(F,L)};U(T,F=>{a(l)?F(N):F(D,!1)},!0)}P(p,E)};U(k,p=>{a(o)?p(A):p(y,!1)})}P(e,x),Ee(),n()}ua(["click","keydown"]);var Il=R('<a href="#/">Se déconnecter</a>'),Dl=R('<a href="#/login">Se connecter</a> <a href="#/register">Créer un compte</a>',1),Bl=R('<div class="mobile-menu-overlay active"><div class="mobile-menu active"><button class="mobile-menu-close">&times;</button> <nav class="mobile-nav"><a href="#/">Accueil</a> <a href="#/My-library">Ma Bibliothèque</a> <!>a</nav></div></div>'),Ol=R('<li class="menu-deroulant"><p> </p> <ul class="sous-menu"><li><a href="#/profil">Mon profil</a></li> <li><a href="#/">Se déconnecter</a></li></ul></li>'),Ml=R('<li class="menu-deroulant"><p>Connexion</p> <ul class="sous-menu"><li><a href="#/login">Se connecter</a></li> <li><a href="#/register">Créer un compte</a></li></ul></li>'),Xl=R('<header><!> <button class="mobile-menu-btn">☰</button> <h1><a href="#/">Blabla-book</a></h1> <div><input type="text" placeholder="Rechercher..."/> <button type="button" class="mobile-search-btn">🔍</button></div> <nav class="desktop-nav"><a href="#/">Accueil</a> <a href="#/My-library">Ma Bibliothèque</a> <div class="search-box"><input type="text" placeholder="Rechercher"/> <button type="button">🔍</button></div> <!></nav></header> <main><!></main> <footer><a href="#/Politic">Politique</a> <a href="#/Mentions">Mentions Légales</a> <a href="#/Contact">Contact</a></footer>',1),Fl=R('<main style="padding:16px">Chargement…</main>');function Ul(e,t){ke(t,!1);const[r,n]=Tt(),i=()=>Be(Xa,"$location",r),s=()=>Be(Ve,"$user",r),o={"/":Po,"/Politic":Jo,"/Mentions":$o,"/Contact":bo,"/My-library":Yo,"/profil":tl,"/BookDetail/:id":_o,"/search":Ll,"/login":so,"/register":al,"/about":ul,"/Collections":hl,"*":ko};let l=j(""),u=j(!1),c=j(!1);const f=()=>z(u,!a(u));let d=j(""),b=j("");function g(){const p=a(d).trim();p&&(w(p),z(d,""))}function v(){const p=a(b).trim();p&&(w(p),z(b,""),z(c,!1))}let h=j(!1);tt(async()=>{try{const p=await Ya();Ve.set(p??null)}catch(p){console.error("[App] getMe() failed:",p),Ve.set(null)}finally{z(h,!0)}}),tt(()=>{const p=()=>{window.innerWidth>768&&(z(u,!1),z(c,!1))},E=N=>{N.key==="Escape"&&a(c)&&z(c,!1)},T=N=>{const D=document.querySelector(".mobile-search-form");a(c)&&D&&!D.contains(N.target)&&z(c,!1)};return window.addEventListener("resize",p),document.addEventListener("keydown",E),document.addEventListener("click",T),()=>{window.removeEventListener("resize",p),document.removeEventListener("keydown",E),document.removeEventListener("click",T)}});async function w(p){try{const E=await Hi(p);if(E.length===1){const T=E[0];Pe(`/BookDetail/${T.id}`)}else{const T=`/search?q=${encodeURIComponent(p)}`;i()==="/search"?(Pe("/"),setTimeout(()=>Pe(T),10)):Pe(T)}}catch(E){console.error("Erreur lors de la recherche:",E),alert("Erreur lors de la recherche")}}function x(){localStorage.removeItem("token"),Ve.set(null),Pe("/login")}const S=async p=>{Pe(p.replace("#/","/")),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},50)};ze(()=>i(),()=>{z(l,i()||"/")}),Ct(),Ae();var C=de(),k=ae(C);{var A=p=>{var E=Xl(),T=ae(E),N=m(T);{var D=X=>{var te=Bl(),pe=m(te),Ie=m(pe),Me=_(Ie,2),mt=m(Me),_t=_(mt,2),dr=_(_t,2);{var Yt=Xe=>{var We=Il();I("click",We,Qe(()=>{x(),f()})),P(Xe,We)},Gt=Xe=>{var We=Dl(),$t=ae(We),Wt=_($t,2);I("click",$t,f),I("click",Wt,f),P(Xe,We)};U(dr,Xe=>{s()?Xe(Yt):Xe(Gt,!1)})}I("click",Ie,f),I("click",mt,f),I("click",_t,f),I("click",pe,$a(()=>{})),I("click",te,f),P(X,te)};U(N,X=>{a(u)&&X(D)})}var F=_(N,2),L=_(F,4),O=m(L),ne=_(O,2),oe=_(L,2),V=_(m(oe),4),M=m(V),re=_(M,2),J=_(V,2);{var $=X=>{var te=Ol(),pe=m(te),Ie=m(pe),Me=_(pe,2),mt=_(m(Me),2),_t=m(mt);G(()=>Q(Ie,(s(),q(()=>s().username)))),I("click",_t,Qe(x)),P(X,te)},B=X=>{var te=Ml();P(X,te)};U(J,X=>{s()?X($):X(B,!1)})}var ee=_(T,2),se=m(ee);eo(se,{get key(){return a(l)},children:(X,te)=>{Ua(X,{get routes(){return o}})},$$slots:{default:!0}});var le=_(ee,2),ue=m(le),ie=_(ue,2),he=_(ie,2);G(()=>Se(L,1,`mobile-search-form ${a(c)?"expanded":""}`)),I("click",F,f),Re(O,()=>a(b),X=>z(b,X)),I("keydown",O,X=>{X.key==="Enter"&&v(),X.key==="Escape"&&(z(c,!1),X.target)}),I("focus",O,()=>z(c,!0)),I("blur",O,()=>{setTimeout(()=>{a(b).trim()||z(c,!1)},150)}),I("click",ne,()=>{a(c)?a(b).trim()&&v():(z(c,!0),setTimeout(()=>{document.querySelector(".mobile-search-form input")},100))}),Re(M,()=>a(d),X=>z(d,X)),I("keydown",M,X=>X.key==="Enter"&&g()),I("click",re,g),I("click",ue,Qe(()=>S("#/Politic"))),I("click",ie,Qe(()=>S("#/Mentions"))),I("click",he,Qe(()=>S("#/Contact"))),P(p,E)},y=p=>{var E=Fl();P(p,E)};U(k,p=>{a(h)?p(A):p(y,!1)})}P(e,C),Ee(),n()}fa(Ul,{target:document.getElementById("app")});
